<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.26">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="MN-DNR Biometricians">
<meta name="dcterms.date" content="2025-12-03">

<title>Bring Your Own Data (BYOD) Series</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-587c61ba64f3a5504c4d52d930310e48.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-370b33ce36417fc9240906ff1447e4d0.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<link href="../site_libs/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">

<link href="../site_libs/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">

<script src="../site_libs/kePrint-0.0.1/kePrint.js"></script>

<link href="../site_libs/lightable-0.0.1/lightable.css" rel="stylesheet">

<link href="../site_libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">

<script src="../site_libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>

<script src="../site_libs/plotly-binding-4.11.0/plotly.js"></script>

<script src="../site_libs/typedarray-0.1/typedarray.min.js"></script>

<script src="../site_libs/jquery-3.5.1/jquery.min.js"></script>

<link href="../site_libs/crosstalk-1.2.2/css/crosstalk.min.css" rel="stylesheet">

<script src="../site_libs/crosstalk-1.2.2/js/crosstalk.min.js"></script>

<link href="../site_libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet">

<script src="../site_libs/plotly-main-2.11.1/plotly-latest.min.js"></script>



<link rel="stylesheet" href="camp_style.css">
</head>

<body class="quarto-light">

<div id="quarto-search-results"></div>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#workshop-goals" id="toc-workshop-goals" class="nav-link active" data-scroll-target="#workshop-goals"><span class="header-section-number">1</span> Workshop goals</a></li>
  <li><a href="#setting-up-your-work-space" id="toc-setting-up-your-work-space" class="nav-link" data-scroll-target="#setting-up-your-work-space"><span class="header-section-number">2</span> Setting-up your work space</a></li>
  <li><a href="#loading-your-tools" id="toc-loading-your-tools" class="nav-link" data-scroll-target="#loading-your-tools"><span class="header-section-number">3</span> Loading your tools</a>
  <ul class="collapse">
  <li><a href="#packages" id="toc-packages" class="nav-link" data-scroll-target="#packages"><span class="header-section-number">3.1</span> Packages</a></li>
  <li><a href="#loading-data" id="toc-loading-data" class="nav-link" data-scroll-target="#loading-data"><span class="header-section-number">3.2</span> Loading data</a></li>
  <li><a href="#data-from-a-package" id="toc-data-from-a-package" class="nav-link" data-scroll-target="#data-from-a-package"><span class="header-section-number">3.3</span> Data from a package</a></li>
  </ul></li>
  <li><a href="#getting-to-know-your-data" id="toc-getting-to-know-your-data" class="nav-link" data-scroll-target="#getting-to-know-your-data"><span class="header-section-number">4</span> Getting to know your data</a>
  <ul class="collapse">
  <li><a href="#data-exploration-functions" id="toc-data-exploration-functions" class="nav-link" data-scroll-target="#data-exploration-functions"><span class="header-section-number">4.1</span> Data exploration functions</a></li>
  <li><a href="#data-types" id="toc-data-types" class="nav-link" data-scroll-target="#data-types"><span class="header-section-number">4.2</span> Data types</a></li>
  <li><a href="#examining-the-data" id="toc-examining-the-data" class="nav-link" data-scroll-target="#examining-the-data"><span class="header-section-number">4.3</span> Examining the data</a></li>
  <li><a href="#data-quality-check" id="toc-data-quality-check" class="nav-link" data-scroll-target="#data-quality-check"><span class="header-section-number">4.4</span> Data quality check</a></li>
  </ul></li>
  <li><a href="#tidying-your-data" id="toc-tidying-your-data" class="nav-link" data-scroll-target="#tidying-your-data"><span class="header-section-number">5</span> Tidying your data</a>
  <ul class="collapse">
  <li><a href="#what-is-tidy-data" id="toc-what-is-tidy-data" class="nav-link" data-scroll-target="#what-is-tidy-data"><span class="header-section-number">5.1</span> What is tidy data?</a></li>
  <li><a href="#the-pipe-operator" id="toc-the-pipe-operator" class="nav-link" data-scroll-target="#the-pipe-operator"><span class="header-section-number">5.2</span> The pipe operator</a></li>
  <li><a href="#tidy-functions" id="toc-tidy-functions" class="nav-link" data-scroll-target="#tidy-functions"><span class="header-section-number">5.3</span> Tidy functions</a></li>
  <li><a href="#formating-column-names" id="toc-formating-column-names" class="nav-link" data-scroll-target="#formating-column-names"><span class="header-section-number">5.4</span> Formating column names</a></li>
  <li><a href="#removing-unecessary-data" id="toc-removing-unecessary-data" class="nav-link" data-scroll-target="#removing-unecessary-data"><span class="header-section-number">5.5</span> Removing unecessary data</a></li>
  <li><a href="#modifying-variables" id="toc-modifying-variables" class="nav-link" data-scroll-target="#modifying-variables"><span class="header-section-number">5.6</span> Modifying variables</a>
  <ul class="collapse">
  <li><a href="#flagging-usability-of-data" id="toc-flagging-usability-of-data" class="nav-link" data-scroll-target="#flagging-usability-of-data"><span class="header-section-number">5.6.1</span> Flagging usability of data</a></li>
  </ul></li>
  <li><a href="#creating-new-variables" id="toc-creating-new-variables" class="nav-link" data-scroll-target="#creating-new-variables"><span class="header-section-number">5.7</span> Creating new variables</a></li>
  <li><a href="#formatting-calendar-dates-and-times" id="toc-formatting-calendar-dates-and-times" class="nav-link" data-scroll-target="#formatting-calendar-dates-and-times"><span class="header-section-number">5.8</span> Formatting calendar dates and times</a></li>
  <li><a href="#long-and-wide-data" id="toc-long-and-wide-data" class="nav-link" data-scroll-target="#long-and-wide-data"><span class="header-section-number">5.9</span> Long and wide data</a></li>
  <li><a href="#saving-data" id="toc-saving-data" class="nav-link" data-scroll-target="#saving-data"><span class="header-section-number">5.10</span> Saving data</a></li>
  </ul></li>
  <li><a href="#creating-data-summaries" id="toc-creating-data-summaries" class="nav-link" data-scroll-target="#creating-data-summaries"><span class="header-section-number">6</span> Creating data summaries</a></li>
  <li><a href="#data-visualization" id="toc-data-visualization" class="nav-link" data-scroll-target="#data-visualization"><span class="header-section-number">7</span> Data visualization</a>
  <ul class="collapse">
  <li><a href="#key-data-visualization-principles" id="toc-key-data-visualization-principles" class="nav-link" data-scroll-target="#key-data-visualization-principles"><span class="header-section-number">7.1</span> Key data visualization principles</a></li>
  <li><a href="#main-elements-of-a-ggplot-figure" id="toc-main-elements-of-a-ggplot-figure" class="nav-link" data-scroll-target="#main-elements-of-a-ggplot-figure"><span class="header-section-number">7.2</span> Main elements of a ggplot figure</a></li>
  <li><a href="#one-variable-figures" id="toc-one-variable-figures" class="nav-link" data-scroll-target="#one-variable-figures"><span class="header-section-number">7.3</span> One-variable figures</a></li>
  <li><a href="#two-variables-figures" id="toc-two-variables-figures" class="nav-link" data-scroll-target="#two-variables-figures"><span class="header-section-number">7.4</span> Two-variables figures</a></li>
  <li><a href="#facets" id="toc-facets" class="nav-link" data-scroll-target="#facets"><span class="header-section-number">7.5</span> Facets!</a></li>
  <li><a href="#interactive-plots" id="toc-interactive-plots" class="nav-link" data-scroll-target="#interactive-plots"><span class="header-section-number">7.6</span> Interactive plots</a></li>
  <li><a href="#exporting-plots-for-publication" id="toc-exporting-plots-for-publication" class="nav-link" data-scroll-target="#exporting-plots-for-publication"><span class="header-section-number">7.7</span> Exporting plots for publication</a></li>
  </ul></li>
  <li><a href="#conclusion" id="toc-conclusion" class="nav-link" data-scroll-target="#conclusion"><span class="header-section-number">8</span> Conclusion</a></li>
  <li><a href="#your-turn-to-experiment" id="toc-your-turn-to-experiment" class="nav-link" data-scroll-target="#your-turn-to-experiment"><span class="header-section-number">9</span> Your turn to experiment!</a></li>
  <li><a href="#useful-cheatsheets" id="toc-useful-cheatsheets" class="nav-link" data-scroll-target="#useful-cheatsheets"><span class="header-section-number">10</span> Useful cheatsheets</a></li>
  <li><a href="#additional-resources" id="toc-additional-resources" class="nav-link" data-scroll-target="#additional-resources"><span class="header-section-number">11</span> Additional resources</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Bring Your Own Data (BYOD) Series</h1>
<p class="subtitle lead">Summarizing and Visualizing Your Data in R</p>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>MN-DNR Biometricians </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">December 3, 2025</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<div class="cell">
<div class="cell-output-display">

</div>
</div>
<div class="cell">
<style type="text/css">
{
}
.YourTurn {
  margin:        0em;
  border:        2px solid #003865;
  border-left:   5px solid #003865; 
  border-radius: 10px;
}
.YourTurn-header {
  margin-left:   0em;
  margin-top:    0em;
  margin-bottom: 0em;
   /* align-items: center; */
   /* vertical-align: text-bottom; */
  padding-left:   10px;
  padding-top:    5px;
  padding-bottom: 0px;
  background-color: #0080A6;
  border: 2px solid #003865;
  border-left: 10px solid #003865; 
  border-bottom: 1px solid #003865; 
  border-top-right-radius: 10px;
  color: white;
  font-size: 1.3em;
  font-weight: bold;
  /* background-size: 25px;
  background-repeat: no-repeat;
  background-position: 10px center;
  background-image: url("fa-code-icon.png"); */
}
.YourTurn-container {
  border: 2px solid #003865;
  border-left: 10px solid #003865; 
  border-top: 1px solid #003865; 
  padding-top: 5px;
  padding-left: 10px;
  padding-right: 10px;
  padding-bottom: 5px;
  color: black;
  background-color: white;
  border-bottom-right-radius: 10px;
}
</style>
</div>
<section id="workshop-goals" class="level1" data-number="1">
<h1 data-number="1"><span class="header-section-number">1</span> Workshop goals</h1>
<p>The goal of this workshop is to provide the tools and hands-on experience necessary so that participants are comfortable importing and tidying up their data in R, creating summaries, and generating publication-quality figures. If time allows we could also explore simple statistical models during the practice section of the workshop.</p>
<p>Throughout this workshop we will use the syntax of the <code>tidyverse</code> group of packages, which offers an efficient way of coding and building complexity in data manipulation steps in an organized and structured way.</p>
<p>The content presented in this document was inspired by some of the courses presented at <a href="https://tidy-mn.github.io/R-camp-penguins/">MDH R Camp</a>. We encourage all participants to take a look at the material generously shared by MDH by following that link; it contains excellent instructional videos and coding examples.</p>
</section>
<section id="setting-up-your-work-space" class="level1" data-number="2">
<h1 data-number="2"><span class="header-section-number">2</span> Setting-up your work space</h1>
<p>Let’s set up our work space for the day by first creating a new RStudio project for this workshop. All of the scripts and data used in the workshop should be saved to that project so that everything can be easily referenced in the future.</p>
<p>We will now take a few moments to demonstrate how to set-up a new RStudio project. When that is done, we’ll create folders for data, scripts, and outputs in our project folder. Finally, let’s create a new R script. We can name it penguins_data_demo.r or you can chose another script name if you’d like. This script will contain everything that we will demonstrate in this class with a dataset that we will provide (penguins!).</p>
</section>
<section id="loading-your-tools" class="level1" data-number="3">
<h1 data-number="3"><span class="header-section-number">3</span> Loading your tools</h1>
<section id="packages" class="level2" data-number="3.1">
<h2 data-number="3.1" class="anchored" data-anchor-id="packages"><span class="header-section-number">3.1</span> Packages</h2>
<p>In this section, we will learn about the different packages that we will be using in this workshop and will explore different functions for reading files into r.</p>
<div class="cell">
<div class="cell-output-display">
<table class="table table-striped table-hover caption-top table-sm small">
<caption>Essential R packages for tidying and visualizing data</caption>
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">Package</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Purpose</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">readr</td>
<td style="text-align: left;">Read delimited files</td>
</tr>
<tr class="even">
<td style="text-align: left;">readxl</td>
<td style="text-align: left;">Read excel files</td>
</tr>
<tr class="odd">
<td style="text-align: left;">tidyr</td>
<td style="text-align: left;">Tidy messy data</td>
</tr>
<tr class="even">
<td style="text-align: left;">dplyr</td>
<td style="text-align: left;">Format and summarize data tables</td>
</tr>
<tr class="odd">
<td style="text-align: left;">stringr</td>
<td style="text-align: left;">Format character strings</td>
</tr>
<tr class="even">
<td style="text-align: left;">janitor</td>
<td style="text-align: left;">More data cleaning (not in the tidyverse)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">ggplot2</td>
<td style="text-align: left;">Create elegant data visualisations using the grammar of graphics</td>
</tr>
<tr class="even">
<td style="text-align: left;">tidyverse</td>
<td style="text-align: left;">Load many of the packages in the tidyverse</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>Let’s load packages!</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># load packages in the tidyverse (e.g., readr, readxl, tidyr)</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse) </span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readxl)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="co"># we can check what packages were loaded</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(<span class="fu">sessionInfo</span>()[[<span class="st">"otherPkgs"</span>]])</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="loading-data" class="level2" data-number="3.2">
<h2 data-number="3.2" class="anchored" data-anchor-id="loading-data"><span class="header-section-number">3.2</span> Loading data</h2>
<p>Let’s load a few datasets in different formats. First, you’ll need to download the data to your computer and save it in a folder called “data” that’s inside of your RStudio project.</p>
<p><a href="https://github.com/MN-DNR-R/BYOD_Seminar1_Data_Summaries_and_Visualization/raw/refs/heads/main/data/penguin_data_final.xlsx">penguin_data_final.xlsx</a></p>
<p>Since we stored the data inside a folder in the project, the file path is very simple. If you need to load data that is stored outside the project, you will need to specify the whole file path.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># load a .xlsx file into your R environment</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>mydat_xls <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">"data/penguin_data_final.xlsx"</span>) </span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>Next, let’s try loading data from a url. We would use the read_csv function for data on our computer as well.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># load a .csv file into your R environment</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>mydat_csv <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"https://raw.githubusercontent.com/MN-DNR-R/BYOD_Seminar1_Data_Summaries_and_Visualization/refs/heads/main/data/penguin_data_final.csv?token=GHSAT0AAAAAADGVPTNKVJGII66G3RODGYUA2JGFBOA"</span>) </span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>A summary of the data is generated when you use the “read_” functions. You can also look in the environment and make sure that the files were loaded properly! We will also demonstrate ways to explore your data in the next section.</p>
</section>
<section id="data-from-a-package" class="level2" data-number="3.3">
<h2 data-number="3.3" class="anchored" data-anchor-id="data-from-a-package"><span class="header-section-number">3.3</span> Data from a package</h2>
<p>Some datasets are stored inside of R packages. We will use one that’s in a package for the rest of our demonstration.</p>
<p>The <code>palmerpenguins</code> package was created by Allison Horst, Alison Hill, and Kristen Gorman as a tool for teaching data manipulation and analysis techniques in R. In the following sections we will explore the data available within this package, and we will learn to manipulate and visualize the data using a variety of tools and techniques. Below you will use the <code>citation()</code> command line to get the full citation for the package!</p>
<p>The library contains two datasets which can be called without having to read them manually (as we previously did with the .csv or .xlsx files). One which contains raw penguins data (penguin_raw), and the second file (penguins) is the simplified (i.e., clean) dataset.</p>
<p>You also can read more about the package here: <a href="https://allisonhorst.github.io/palmerpenguins/">PalmerPenguins</a></p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># install package (delete the '#' to run the line and use the '#' after you've installed the package)</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="co"># install.packages("palmerpenguins")</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="co"># load library into your R environment </span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(palmerpenguins)</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a><span class="co"># get information about the package:</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>?palmerpenguins</span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Get proper citation for the package (e.g., to use in a publication). Note that you can use the "citation" function for any of the packages used in an analysis, which is very useful when writing the methods in a report or peer-reviewed manuscript. </span></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a><span class="fu">citation</span>(<span class="st">"palmerpenguins"</span>)</span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a><span class="co"># let's save the raw data in our environment</span></span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>rawdat <span class="ot">&lt;-</span> penguins_raw</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
</section>
<section id="getting-to-know-your-data" class="level1" data-number="4">
<h1 data-number="4"><span class="header-section-number">4</span> Getting to know your data</h1>
<section id="data-exploration-functions" class="level2" data-number="4.1">
<h2 data-number="4.1" class="anchored" data-anchor-id="data-exploration-functions"><span class="header-section-number">4.1</span> Data exploration functions</h2>
<p>There are many functions available to explore the data. Here is a list of the main ones that we will be using in this workshop.</p>
<div class="cell">
<div class="cell-output-display">
<table class="table table-striped table-hover caption-top table-sm small">
<caption>Useful functions for data exploration</caption>
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">Function</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Purpose</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">glimpse()</td>
<td style="text-align: left;">Overview of dataframe rows, columns, column names, dataframe dimension, and a glimpse of first values</td>
</tr>
<tr class="even">
<td style="text-align: left;">str()</td>
<td style="text-align: left;">Succinct summary of all columns of a dataframe; similar to glimpse but within base R</td>
</tr>
<tr class="odd">
<td style="text-align: left;">names()</td>
<td style="text-align: left;">Column names</td>
</tr>
<tr class="even">
<td style="text-align: left;">head()</td>
<td style="text-align: left;">Display first n rows of data (default is 6)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">tail()</td>
<td style="text-align: left;">Displays last n rows of data (default is 6)</td>
</tr>
<tr class="even">
<td style="text-align: left;">nrow()</td>
<td style="text-align: left;">Number of rows</td>
</tr>
<tr class="odd">
<td style="text-align: left;">ncol()</td>
<td style="text-align: left;">Number of columns</td>
</tr>
<tr class="even">
<td style="text-align: left;">summary()</td>
<td style="text-align: left;">Summary of the data in each column</td>
</tr>
<tr class="odd">
<td style="text-align: left;">unique()</td>
<td style="text-align: left;">Displays unique values of a variable</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="data-types" class="level2" data-number="4.2">
<h2 data-number="4.2" class="anchored" data-anchor-id="data-types"><span class="header-section-number">4.2</span> Data types</h2>
<p>Before doing any data manipulation in R, it is important to recognize the different data types. When importing your data into R, R will automatically recognize the type of data of each column. At times, however, a specific data type may need to be set or converted from one to another.</p>
<p>For example, one could use the <code>as.numeric()</code> function to convert a column to <em>numeric</em>, or <code>as.character()</code> to convert to <em>character</em>. When doing such data conversions, it is important to note that some elements of a vector may be converted to NAs if R recognizes that it does not correspond to the data type specified.</p>
<p>A good example of this is when a column that should be <em>numeric</em> contains characters (e.g., instead of an actual count one had recorded something like “more then 100 animals”). In this case, this would return an “NA” as R does not know what to do with this information! Good data entry and quality checks prior to importing data into R are very important to help prevent data loss.</p>
<p>With a <em>factor</em> data type, you can specify the order of variables, such as “low”, “medium”, “high”. This defined order can then make data visualizations and analyses more intuitive.</p>
<div class="cell">
<div class="cell-output-display">
<table class="table table-striped table-hover caption-top table-sm small">
<caption>Data types supported in R</caption>
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">Type</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Example</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Numeric</td>
<td style="text-align: left;">1.5, 2.6</td>
</tr>
<tr class="even">
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">1, 2</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Logical</td>
<td style="text-align: left;">True/False</td>
</tr>
<tr class="even">
<td style="text-align: left;">Character</td>
<td style="text-align: left;">One, Two</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Factor</td>
<td style="text-align: left;">Control, Treatment</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="examining-the-data" class="level2" data-number="4.3">
<h2 data-number="4.3" class="anchored" data-anchor-id="examining-the-data"><span class="header-section-number">4.3</span> Examining the data</h2>
<p>Let’s use the functions from the function description table above to examine what is contained in our dataset.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># the glimpse function provides a good first overview of the data</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(rawdat)</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="co"># the str function also provides a quick but complete overview of the structure of the data</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(rawdat)</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a><span class="co"># quick summary of all of the data</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(rawdat)</span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a><span class="co"># print column names</span></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(rawdat)</span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a><span class="co"># look at first and last rows</span></span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(rawdat, <span class="at">n =</span> <span class="dv">10</span>)</span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a><span class="fu">tail</span>(rawdat, <span class="at">n =</span> <span class="dv">10</span>)</span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a><span class="co"># number of rows and columns</span></span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a><span class="fu">nrow</span>(rawdat)</span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a><span class="fu">ncol</span>(rawdat)</span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a><span class="co"># lists unique values (this can help identify if there are data entry errors)</span></span>
<span id="cb5-22"><a href="#cb5-22" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(rawdat<span class="sc">$</span>Species)</span>
<span id="cb5-23"><a href="#cb5-23" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(rawdat<span class="sc">$</span>Island)</span>
<span id="cb5-24"><a href="#cb5-24" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(rawdat<span class="sc">$</span>Region)</span>
<span id="cb5-25"><a href="#cb5-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-26"><a href="#cb5-26" aria-hidden="true" tabindex="-1"></a><span class="co"># How many unique ID's do we have? How many data points do we have? Do they match?</span></span>
<span id="cb5-27"><a href="#cb5-27" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(rawdat<span class="sc">$</span><span class="st">`</span><span class="at">Individual ID</span><span class="st">`</span>) </span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="data-quality-check" class="level2" data-number="4.4">
<h2 data-number="4.4" class="anchored" data-anchor-id="data-quality-check"><span class="header-section-number">4.4</span> Data quality check</h2>
<p>Looking at the raw data, what could be improved for analyses and data visualizations? Is the dataset pretty clean and analysis-ready, or are these things that need to be addressed and changed so that we don’t run into issues later in the process?</p>
<p>Here are some examples:</p>
<ol type="1">
<li>names in the Species column are long</li>
<li>the Sex and Stage columns are characters, but they would be more useful as factors</li>
</ol>
<p><strong>Exercise:</strong> Can you think of any others?</p>
</section>
</section>
<section id="tidying-your-data" class="level1" data-number="5">
<h1 data-number="5"><span class="header-section-number">5</span> Tidying your data</h1>
<section id="what-is-tidy-data" class="level2" data-number="5.1">
<h2 data-number="5.1" class="anchored" data-anchor-id="what-is-tidy-data"><span class="header-section-number">5.1</span> What is tidy data?</h2>
<p>We refer to “tidy data” as a dataset where each column is a variable, each row is an observation, and each cell contains a single value and a data type that is consistent across a given column (e.g., all numeric). The <code>tidyverse</code> packages contains functions for manipulating the data so that we can create a clean, tidy dataset to be used for all analyses.</p>
<p><strong>Note</strong>: Recall that we will never overwrite the original dataset. The raw data should always remain in its original location and be unaltered. The beauty of R scripts is that we can save all data cleaning and data manipulation steps while retaining the original data</p>
<p><strong>Why is it important to tidy our data?</strong></p>
<p>Taking time to tidy a dataset ensures that the data summaries, analyses, or visualizations we produce represent “true” data values to the best of our knowledge (e.g., no wrongly assigned values, missing data, or data entry errors). It is a the first and most critical step of any data analysis, and though it can be a lengthy process, it is worth the effort.</p>
<p><strong>Why tidy data in R?</strong></p>
<p>Using R ensures that the original dataset is kept unaltered, and that all data manipulation steps are documented and reproducible. This is a major advantage of tidying data in R as opposed to using spreadsheet applications such as Excel, where there is often few to no records of changes made to a dataset.</p>
</section>
<section id="the-pipe-operator" class="level2" data-number="5.2">
<h2 data-number="5.2" class="anchored" data-anchor-id="the-pipe-operator"><span class="header-section-number">5.2</span> The pipe operator</h2>
<p>R uses many different operators such as &lt;- and = along with typical arithmetic (+, -, <code>*</code>, /, ^) and relational (&lt;, &gt;, &lt;=, &gt;=, == ,!=) symbols. The <em>pipe</em> operator (<code>%&gt;%</code> or <code>|&gt;</code>) provides a way to efficiently chain functions together in a single statement. It is similar to saying: let’s take this data, <em>and then</em> do this with it, <em>and then</em> do this, kind of like a data assembly line! So ultimately, every time that you see or use <code>%&gt;%</code> or <code>|&gt;</code> in a script, you can think of it as being the same as if you were reading or coding <em>and then…</em>! It is a very useful tool for tidying data.</p>
<p>The operator <code>|&gt;</code> is from base R while <code>%&gt;%</code> is from the <code>tidyverse</code> package <code>magrittr</code>. More background on the origin and use of the pipe operator can be found <a href="https://www.datacamp.com/tutorial/pipe-r-tutorial">here</a>.</p>
<p>Let’s look at an example of tidying data with and without the pipe operator.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># edit the raw data to filter for samples collected from Torgersen Island and arrange the table by the date the egg was collected</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="co"># without the pipe operator</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>torg1 <span class="ot">&lt;-</span> <span class="fu">filter</span>(rawdat, Island <span class="sc">==</span> <span class="st">"Torgersen"</span>)</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>torg2 <span class="ot">&lt;-</span> <span class="fu">arrange</span>(torg1, <span class="st">'Date Egg'</span>)</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a><span class="co"># with the pipe operator</span></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>torg <span class="ot">&lt;-</span> rawdat <span class="sc">%&gt;%</span> </span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Island <span class="sc">==</span> <span class="st">"Torgersen"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="st">'Date Egg'</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>When using the pipe operator, the input from before the pipe becomes the first argument in the function after the pipe. If you want the input to be the second, third, etc. argument, represent its location with <code>.</code>.</p>
</section>
<section id="tidy-functions" class="level2" data-number="5.3">
<h2 data-number="5.3" class="anchored" data-anchor-id="tidy-functions"><span class="header-section-number">5.3</span> Tidy functions</h2>
<p>Now that we’ve introduced a few basic tidy data concepts and tools, we can start tidying our data. There are many very useful functions to subset data, re-arrange columns, create new columns, etc. Below are the ones you may use more frequently as you learn to tidy your data in R and with the <code>tidyverse</code> packages.</p>
<div class="cell">
<div class="cell-output-display">
<table class="table table-striped table-hover caption-top table-sm small">
<caption>Useful functions to create tidy data</caption>
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">Function</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Purpose</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">filter()</td>
<td style="text-align: left;">Keep (or exclude) rows that meet specific criteria</td>
</tr>
<tr class="even">
<td style="text-align: left;">select()</td>
<td style="text-align: left;">Select columns to keep (or to drop)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">arrange()</td>
<td style="text-align: left;">Sort a dataframe based on a column's value (or several columns' values)</td>
</tr>
<tr class="even">
<td style="text-align: left;">mutate()</td>
<td style="text-align: left;">Add new columns or update existing columns</td>
</tr>
<tr class="odd">
<td style="text-align: left;">rename()</td>
<td style="text-align: left;">Rename columns</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="formating-column-names" class="level2" data-number="5.4">
<h2 data-number="5.4" class="anchored" data-anchor-id="formating-column-names"><span class="header-section-number">5.4</span> Formating column names</h2>
<p>Some of the column names are difficult to work with because they have spaces and symbols. Let’s fix that.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># look at the column names</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(rawdat)</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(rawdat)</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a><span class="co"># let's make the following changes:</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a><span class="co"># lowercase names</span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a><span class="co"># replace spaces with _</span></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a><span class="co"># replace / with _</span></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a><span class="co"># remove parentheses</span></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>rawdat2 <span class="ot">&lt;-</span> rawdat <span class="sc">%&gt;%</span> </span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename_with</span>(<span class="at">.fn =</span> str_to_lower) <span class="sc">%&gt;%</span> </span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename_with</span>(<span class="at">.fn =</span> <span class="sc">~</span><span class="fu">str_replace_all</span>(.x, <span class="st">" "</span>, <span class="st">"_"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename_with</span>(<span class="at">.fn =</span> <span class="sc">~</span><span class="fu">str_replace_all</span>(.x, <span class="st">"/"</span>, <span class="st">"_"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename_with</span>(<span class="at">.fn =</span> <span class="sc">~</span><span class="fu">str_remove_all</span>(.x, <span class="st">"</span><span class="sc">\\</span><span class="st">(|</span><span class="sc">\\</span><span class="st">)"</span>))</span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a><span class="co"># look at new names</span></span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(rawdat2)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>The functions <code>str_to_lower()</code> and <code>str_replace_all()</code> are part of the <code>stringr</code> package, automatically loaded when we load tidyverse, but it could be loaded individually as well. The function <code>rename_with()</code> is like <code>rename()</code>, but allows you to use functions within it. Use <code>rename()</code> if you want to do a one-to-one change in column names.</p>
</section>
<section id="removing-unecessary-data" class="level2" data-number="5.5">
<h2 data-number="5.5" class="anchored" data-anchor-id="removing-unecessary-data"><span class="header-section-number">5.5</span> Removing unecessary data</h2>
<p>To simplify the dataset, let’s remove columns and rows we don’t need. We will now rename the dataset as “cleandat” so that we maintain the raw data unaltered, and save all changes and additions into the clean dataset. The columns we select will correspond to the analyses we’re interested in. If data are missing, we may want to remove those observations from the dataset.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># let's see whether all the observations have flipper length</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>rawdat2 <span class="sc">%&gt;%</span> </span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">is.na</span>(flipper_length_mm))</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a><span class="co"># keep only columns of interest</span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a><span class="co"># use select to remove columns (an alternative approach)</span></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a><span class="co"># remove observations (rows) missing flipper length</span></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>cleandat1 <span class="ot">&lt;-</span> rawdat2 <span class="sc">%&gt;%</span> </span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(individual_id, species, region, island, stage, clutch_completion, </span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>         date_egg, flipper_length_mm, culmen_length_mm, body_mass_g,sex, </span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>         comments) <span class="sc">%&gt;%</span> </span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">!</span>stage <span class="sc">&amp;</span> <span class="sc">!</span>region) <span class="sc">%&gt;%</span> </span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(flipper_length_mm))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="modifying-variables" class="level2" data-number="5.6">
<h2 data-number="5.6" class="anchored" data-anchor-id="modifying-variables"><span class="header-section-number">5.6</span> Modifying variables</h2>
<p>Often, variables that are characters need to be formatted to make them easier to use for analyses. We’ll rename the dataset again to keep the original data saved.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># look at species names</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(cleandat1<span class="sc">$</span>species)</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a><span class="co"># remove the scientific name</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>cleandat2 <span class="ot">&lt;-</span> cleandat1 <span class="sc">%&gt;%</span> </span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">species =</span> <span class="fu">str_remove</span>(species, <span class="st">" </span><span class="sc">\\</span><span class="st">(Pygoscelis adeliae</span><span class="sc">\\</span><span class="st">)"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>           <span class="fu">str_remove</span>(<span class="st">" </span><span class="sc">\\</span><span class="st">(Pygoscelis papua</span><span class="sc">\\</span><span class="st">)"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>           <span class="fu">str_remove</span>(<span class="st">" </span><span class="sc">\\</span><span class="st">(Pygoscelis antarctica</span><span class="sc">\\</span><span class="st">)"</span>))</span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a><span class="co"># look at new species names</span></span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(cleandat2<span class="sc">$</span>species)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<section id="flagging-usability-of-data" class="level3" data-number="5.6.1">
<h3 data-number="5.6.1" class="anchored" data-anchor-id="flagging-usability-of-data"><span class="header-section-number">5.6.1</span> Flagging usability of data</h3>
<p>If it looks like some records may not be usable based on some criteria, it may be a good idea to create an indicator variable (yes/no) that identifies which record may not be usable for a specific analysis. If needed, we can do this using the <code>mutate</code> and <code>case_when</code> functions.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># look at the comments to assess if some data may not be usable for analysis  </span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(cleandat2<span class="sc">$</span>comments)</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a><span class="co"># create an indicator variable for whether the sex variable is usable</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>cleandat3 <span class="ot">&lt;-</span> cleandat2 <span class="sc">%&gt;%</span> </span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">usable_sex_data =</span> <span class="fu">case_when</span>(</span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">str_detect</span>(comments, <span class="st">"No blood sample obtained"</span>) <span class="sc">~</span> <span class="st">"no"</span>,</span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">str_detect</span>(comments, <span class="st">"Sexing primers did not amplify"</span>) <span class="sc">~</span> <span class="st">"no"</span>,</span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>    <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"yes"</span>))</span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a><span class="co"># let's see if this flag works</span></span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a>cleandat3 <span class="sc">%&gt;%</span> </span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(usable_sex_data, sex)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<span style="color:red;"><strong>Note</strong></span>: While in this example the number of unique comments to look through was relatively small and we could easily decide which ones to use for coding the “usable” columns as “yes” or “no”, in real life it is very impractical and not advised to store any critical information in a general free-form “comments” column, especially if that information pertains to the quality or usability of the data. The best practice is to maintain a metadata spreadsheet that contains all of the sampling information for a given sampling point, including comments, but that would also contain a column with a “yes” or a “no” value so that the analyst can quickly filter data without having to weed through long comments or make decisions on what they may mean. Just something to keep in mind!
<p></p>
<p>At times, though, we can create a <code>is-the-data-usable (Yes/No)</code> column based on some variables (but not free-form comments!). For example, if one had sample-site specific <code>wind</code>, <code>precipitation</code>, <code>temperature</code>, <code>time of day</code> information, it would be easy to generate a “data quality” variable based on specific sampling conditions (e.g., if wind exceeds this, exclude this data point).</p>
</section>
</section>
<section id="creating-new-variables" class="level2" data-number="5.7">
<h2 data-number="5.7" class="anchored" data-anchor-id="creating-new-variables"><span class="header-section-number">5.7</span> Creating new variables</h2>
<p>We’re getting close to having a dataset that will be easier to use for analysis! Now let’s say we would like to create a few additional columns to document: 1) culmen to body mass index, 2) flipper group categories based on flipper length, and 3) body size category identifying if the penguins were small, medium, or large based on their weight. We can do all three of these things using the <code>mutate()</code> function.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># create a culmen to body mass index</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="co"># assign a flipper length category</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="co"># create another group based on weight class, and let's make sure that we do not assign a class to missing data</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>cleandat4 <span class="ot">&lt;-</span> cleandat3 <span class="sc">%&gt;%</span> </span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">body_mass_kg =</span> body_mass_g<span class="sc">/</span><span class="dv">1000</span>,</span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>         <span class="at">culmen_bodymass_index =</span> <span class="fu">round</span>(culmen_length_mm<span class="sc">/</span>body_mass_kg, <span class="dv">2</span>),</span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>         <span class="at">flipper_group =</span> <span class="fu">if_else</span>(flipper_length_mm <span class="sc">&gt;</span> <span class="dv">210</span>, <span class="st">"big flips"</span>, </span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>                                 <span class="st">"small flips"</span> ),</span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>         <span class="at">weight_class =</span> <span class="fu">case_when</span>(<span class="fu">is.na</span>(body_mass_g) <span class="sc">~</span> <span class="st">"unknown"</span>, </span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>                                  body_mass_g <span class="sc">&lt;=</span> <span class="dv">3500</span> <span class="sc">~</span> <span class="st">"small"</span>, </span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>                                  body_mass_g <span class="sc">&lt;</span> <span class="dv">4300</span> <span class="sc">~</span> <span class="st">"medium"</span>, </span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a>                                  <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"large"</span>))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p><strong>Note:</strong> The <code>round()</code> function may not work as you expect. See the help file for how it rounds off at 5. If you’d like a different approach, you can use the <code>round_half_up()</code> or <code>round_to_fraction()</code> functions in the <code>janitor</code> package.</p>
</section>
<section id="formatting-calendar-dates-and-times" class="level2" data-number="5.8">
<h2 data-number="5.8" class="anchored" data-anchor-id="formatting-calendar-dates-and-times"><span class="header-section-number">5.8</span> Formatting calendar dates and times</h2>
<p>The package <code>lubridate</code>, which is part of the <code>tidyverse</code> collection of packages, contains many useful functions to format and manipulate date and time variables. Some functions (e.g., <code>as.Date()</code>) are part of base R, while others are part of the <code>lubridate</code> package.</p>
<div class="cell">
<div class="cell-output-display">
<table class="table table-striped table-hover caption-top table-sm small">
<caption>Useful functions to format dates and times</caption>
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">Function</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Purpose</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">as.POSIXct()</td>
<td style="text-align: left;">Format date and time as POSIXct object</td>
</tr>
<tr class="even">
<td style="text-align: left;">as_date() or as.Date()</td>
<td style="text-align: left;">Format object as a date</td>
</tr>
<tr class="odd">
<td style="text-align: left;">year()</td>
<td style="text-align: left;">Extract year from POSIXct object</td>
</tr>
<tr class="even">
<td style="text-align: left;">month()</td>
<td style="text-align: left;">Extract month from POSIXct object</td>
</tr>
<tr class="odd">
<td style="text-align: left;">hour()</td>
<td style="text-align: left;">Extract hour from POSIXct object</td>
</tr>
</tbody>
</table>
</div>
</div>
<p><a href="https://www.neonscience.org/resources/learning-hub/tutorials/dc-convert-date-time-posix-r">Here</a> you can find a useful tutorial that explores and presents some of these functions.</p>
<p>Let’s first add a “time” variable to our dataset. The time variable will be in total number of seconds from 00:00:00. We will learn how to re-format this in proper time stamp (hour:minute:second) so that it is more intuitive to work with and visualize. Times in seconds frequently happen with GPS Location data, for example. It isn’t a bad idea to have a way to convert them in your toolbox!</p>
<p>The code that we will type next is only used to generate a time variable. Don’t worry too much about the specifics of the code since this is not something that you would have to do if you were receiving data that already contains both a <em>date</em> and a <em>time</em> column. This is only done to illustrate how to work with both dates and times, since our original penguin data only contains dates.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># define the start and end dates/times for the range of sampling times (in UTC, i.e., 3 hours ahead of the time zone where penguins were observed - see note below)</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>start_time <span class="ot">&lt;-</span> <span class="dv">9</span><span class="sc">*</span><span class="dv">60</span><span class="sc">*</span><span class="dv">60</span> <span class="co"># 9 am in seconds from midnight</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>end_time <span class="ot">&lt;-</span> <span class="dv">21</span><span class="sc">*</span><span class="dv">60</span><span class="sc">*</span><span class="dv">60</span> <span class="co"># 9 pm in seconds from midnight</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a sequence of all possible timestamps within the range, e.g., by 10 minute segments</span></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>full_time_sequence <span class="ot">&lt;-</span> <span class="fu">seq</span>(start_time, end_time, <span class="dv">10</span><span class="sc">*</span><span class="dv">60</span>)</span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a><span class="co"># For each record, sample a random number from the full time sequence created above</span></span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a>cleandat5 <span class="ot">&lt;-</span> cleandat4 <span class="sc">%&gt;%</span> </span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">time_sec =</span> <span class="fu">sample</span>(full_time_sequence, <span class="fu">n</span>(), <span class="at">replace=</span><span class="cn">TRUE</span>)) </span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a><span class="co"># check variable</span></span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a>cleandat5<span class="sc">$</span>time_sec</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>We have now generated a new variable <code>time_sec</code> which reflects the time of day in seconds from the starting point 00:00:00. We will learn below how to re-format those times so that they are in the appropriate time zone.</p>
<p><em>Note</em>: Time zones are important in R!!! If not specified, the dates and times will be assigned the time zone of your computer system, which may be misleading if the data was collected somewhere completely different (e.g., penguins in Antarctica!).</p>
<p>Let’s format our new time variable to make it more usable in analyses and visualizations.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co"># check the timezone of your computer</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="fu">Sys.time</span>()</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a><span class="co"># set date_egg as the date</span></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a><span class="co"># create a date and time variable. Note that although the penguins are from the Palmer LTER in Antarctica, which is in UTC-03, data were collected in UTC times and will need to be converted to UTC-03.  </span></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a><span class="co"># convert to proper time zone UTC-03 </span></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>cleandat6 <span class="ot">&lt;-</span> cleandat5 <span class="sc">%&gt;%</span> </span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">date =</span> <span class="fu">as_date</span>(date_egg),</span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>         <span class="at">date_time_utc =</span> <span class="fu">as_date</span>(date_egg, <span class="at">format =</span> <span class="st">"%Y-%m-%d"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a>           <span class="fu">paste</span>(<span class="st">"00:00:00"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a>           <span class="fu">as.POSIXct</span>(<span class="at">format=</span><span class="st">"%Y-%m-%d %H:%M:%S"</span>, <span class="at">tz =</span> <span class="st">"UTC"</span>) <span class="sc">+</span> time_sec,</span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a>         <span class="at">date_time_utc03 =</span> <span class="fu">as.POSIXct</span>(date_time_utc, <span class="at">tz =</span> <span class="st">"Etc/GMT+3"</span>))</span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a>                                    </span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-15"><a href="#cb13-15" aria-hidden="true" tabindex="-1"></a><span class="co"># look at the first few entries</span></span>
<span id="cb13-16"><a href="#cb13-16" aria-hidden="true" tabindex="-1"></a>cleandat6 <span class="sc">%&gt;%</span> </span>
<span id="cb13-17"><a href="#cb13-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(date, time_sec, date_time_utc, date_time_utc03) <span class="sc">%&gt;%</span> </span>
<span id="cb13-18"><a href="#cb13-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(<span class="at">n =</span> <span class="dv">10</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p><strong>Note:</strong> From R <a href="https://stat.ethz.ch/R-manual/R-devel/library/base/html/timezones.html">help file</a> on time zones : “Most platforms support time zones of the form ‘⁠Etc/GMT+n⁠’ and ‘⁠Etc/GMT-n⁠’ (possibly also without prefix ‘⁠Etc/⁠’), which assume a fixed offset from UTC (hence no DST). Contrary to some expectations (but consistent with names such as ‘⁠PST8PDT⁠’), negative offsets are times ahead of (East of) UTC, positive offsets are times behind (West of) UTC.”</p>
<p>Now that we’ve formatted our date and time variable as POSIXct object with the appropriate time zone, we can extract all sorts of useful information very easily (e.g., hour(), month(), year()).</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># study year</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="fu">year</span>(cleandat6<span class="sc">$</span>date_time_utc03)</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a><span class="co"># use the mutate function to create a year column in the cleandat dataframe</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>cleandat7 <span class="ot">&lt;-</span> cleandat6 <span class="sc">%&gt;%</span> </span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">year =</span> <span class="fu">year</span>(date_time_utc03)) </span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p><strong>Exercise:</strong> Take a few minutes to experiment extracting different types of information from the POSIXct object. Are there situations where you see this could be useful (e.g., <code>hour()</code>)? What happens if you run <code>as_date()</code> on a date and time POSIXct object?</p>
</section>
<section id="long-and-wide-data" class="level2" data-number="5.9">
<h2 data-number="5.9" class="anchored" data-anchor-id="long-and-wide-data"><span class="header-section-number">5.9</span> Long and wide data</h2>
<p>One of the principles of tidy data is for it to be “long” (i.e., each observation has a row). However, it may make sense to collect data in a “wide” format. There may also be calculations that are easier to do in a wide format. The “pivot_” functions allow us to move between long and wide formats.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co"># make body mass wide by year</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>widedat <span class="ot">&lt;-</span> cleandat7 <span class="sc">%&gt;%</span> </span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(individual_id, body_mass_kg, year) <span class="sc">%&gt;%</span> </span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> year,</span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>              <span class="at">values_from =</span> body_mass_kg,</span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>              <span class="at">names_prefix =</span> <span class="st">"year_"</span>)</span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a><span class="co"># look at new dataset</span></span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>widedat</span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a><span class="co"># convert it back to long</span></span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a>longdat <span class="ot">&lt;-</span> widedat <span class="sc">%&gt;%</span> </span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="fu">starts_with</span>(<span class="st">"year_"</span>),</span>
<span id="cb15-14"><a href="#cb15-14" aria-hidden="true" tabindex="-1"></a>               <span class="at">names_to =</span> <span class="st">"year"</span>,</span>
<span id="cb15-15"><a href="#cb15-15" aria-hidden="true" tabindex="-1"></a>               <span class="at">values_to =</span> <span class="st">"body_mass_kg"</span>,</span>
<span id="cb15-16"><a href="#cb15-16" aria-hidden="true" tabindex="-1"></a>               <span class="at">names_prefix =</span> <span class="st">"year_"</span>)</span>
<span id="cb15-17"><a href="#cb15-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-18"><a href="#cb15-18" aria-hidden="true" tabindex="-1"></a><span class="co"># look at new dataset</span></span>
<span id="cb15-19"><a href="#cb15-19" aria-hidden="true" tabindex="-1"></a>longdat</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="saving-data" class="level2" data-number="5.10">
<h2 data-number="5.10" class="anchored" data-anchor-id="saving-data"><span class="header-section-number">5.10</span> Saving data</h2>
<p>Now that we’ve cleaned our data, let’s save it to our project. That way, if we want to put down our work and come back later, we can start with clean data and not re-do the steps. We can also give this dataset to collaborators.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co"># write to a csv file</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write_csv</span>(cleandat7, <span class="st">"data/clean_penguindat.csv"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>If we want to import the data into a script, we can use the <code>read_csv()</code> function, as demonstrated above.</p>
</section>
</section>
<section id="creating-data-summaries" class="level1" data-number="6">
<h1 data-number="6"><span class="header-section-number">6</span> Creating data summaries</h1>
<p>Creating data summaries is often the first step of a thorough Exploratory Data Analysis (EDA). The <code>group_by()</code> and <code>summarise()</code> (or <code>summarize()</code>, same function, different spelling) functions are some of the most useful functions you’ll find in R as they are very intuitive and efficient. We will summarize the penguin data to illustrate what can be done with these two functions.</p>
<p>Let’s compare flipper length and body mass across species. The <code>group_by()</code> function allows summarizing information for one or multiple nested groups (e.g., species alone, or species within islands, etc.). The <code>summarise()</code> function will allow creating summaries such as mean, standard deviation, sample size, for the groups we defined with the <code>group_by()</code> function.</p>
<p><strong>Note</strong>: If there are missing data in a column, the output of a summary will return NA unless it is specified that the NAs need to be ignored from the calculation.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co"># remind ourselves what's in our dataset</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(cleandat7)</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a><span class="co"># minimum flipper length by species</span></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>cleandat7 <span class="sc">%&gt;%</span> </span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(species) <span class="sc">%&gt;%</span> </span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">min_flipper_length =</span> <span class="fu">min</span>(flipper_length_mm))</span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a><span class="co"># maximum flipper length by sex</span></span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a>cleandat7 <span class="sc">%&gt;%</span> </span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(sex) <span class="sc">%&gt;%</span> </span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">max_flipper_length =</span> <span class="fu">max</span>(flipper_length_mm))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p><strong>Exercise:</strong> The maximum flipper length summary contains NA values for sex. Generate this summary without those values. There are at least two ways to find these NAs in the dataset.</p>
<p>We can combine several functions in the same statement to get a more complete summary of flipper lengths across species.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>flipper_length_summary <span class="ot">&lt;-</span> cleandat7 <span class="sc">%&gt;%</span> </span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(species) <span class="sc">%&gt;%</span> </span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">mean_flipper_length =</span> <span class="fu">mean</span>(flipper_length_mm),</span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">sd_flipper_length =</span> <span class="fu">sd</span>(flipper_length_mm),</span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">min_flipper_length =</span> <span class="fu">min</span>(flipper_length_mm),</span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>            <span class="at">max_flipper_length =</span> <span class="fu">max</span>(flipper_length_mm),</span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>            <span class="at">N=</span><span class="fu">n</span>())</span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a><span class="co"># print the summary</span></span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a>flipper_length_summary</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>Above we created a summary of mean, standard deviation, minimum, and maximum flipper length. There is no limit on the number of functions that we can calculate within the <code>summarise()</code> function.</p>
<p>But wait, we forgot to calculate the standard error which is a metric that we may need for calculating confidence intervals! You can use the <code>mutate()</code> function to add that measure to the summary table previously created.</p>
<p><strong>Note:</strong> Another way to print output is to put parentheses around it</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co"># add standard error column</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>(flipper_length_summary2 <span class="ot">&lt;-</span> flipper_length_summary <span class="sc">%&gt;%</span> </span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(species) <span class="sc">%&gt;%</span> </span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">se_flipper_length =</span> sd_flipper_length<span class="sc">/</span><span class="fu">sqrt</span>(N)))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p><strong>Exercise</strong>: Let’s say that we want to summarize flipper length by species AND island. Let’s take a few minutes to try creating different summaries based on multiple grouping variables.</p>
<p><strong>Hint</strong>: the grouping variables can be added within the <code>group_by()</code> function separated by a comma. You can use the <code>names()</code> or <code>glimpse()</code> function to remember the name of the different variables available to use.</p>
</section>
<section id="data-visualization" class="level1" data-number="7">
<h1 data-number="7"><span class="header-section-number">7</span> Data visualization</h1>
<p>Now that we have a clean dataset and have created useful summaries, we can now think of how to best visualize the data. We will be using the <code>ggplot2</code> package to demonstrate various data visualization options. While it is certainly possible to create high-quality figures in base R, <code>ggplot2</code> provides a powerful way to create and customize figures in an intuitive way (after getting comfortable with the syntax and structure!).</p>
<section id="key-data-visualization-principles" class="level2" data-number="7.1">
<h2 data-number="7.1" class="anchored" data-anchor-id="key-data-visualization-principles"><span class="header-section-number">7.1</span> Key data visualization principles</h2>
<p><a href="https://doi.org/10.1371/journal.pcbi.1003833">Rougier et al.</a> present ten simple rules for better figures in their 2014 paper:</p>
<ol type="1">
<li>Know your audience</li>
<li>Identify your message</li>
<li>Adapt the figure to support the medium (e.g., presentation, report)</li>
<li>Captions are not optional</li>
<li>Do not trust the defaults</li>
<li>Use color effectively</li>
<li>Do not mislead the reader/viewer</li>
<li>Avoid “chartjunk”</li>
<li>Message &gt; beauty</li>
<li>Get the right tool</li>
</ol>
<p>R can be the right tool for many data visualizations. Start by thinking about your audience, message, and medium. This can help you decide whether R is a good fit.</p>
</section>
<section id="main-elements-of-a-ggplot-figure" class="level2" data-number="7.2">
<h2 data-number="7.2" class="anchored" data-anchor-id="main-elements-of-a-ggplot-figure"><span class="header-section-number">7.2</span> Main elements of a ggplot figure</h2>
<p>Plots in <code>ggplot</code> are built as a series of layers sequentially added in an intuitive way. Let’s think about how we would graph a figure by hand. First, we would think of the basic component of our figure or in other words the things that we want to represent (i.e., the <strong>data</strong>). We would then think of what specifically we want to represent (i.e., <strong>The Xs, the Ys, etc.</strong>), and how (i.e., <strong>the type of chart</strong>). <code>ggplot</code> uses this logic to sequentially add complexity and layers to plots with limitless options!</p>
<div class="cell">
<div class="cell-output-display">
<table class="table table-striped table-hover caption-top table-sm small">
<caption>Elements of a plot done in ggplot</caption>
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">Element</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Definition</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Basics</td>
<td style="text-align: left;">Data to be mapped</td>
</tr>
<tr class="even">
<td style="text-align: left;">Aesthetics</td>
<td style="text-align: left;">Aesthetics of the graph such as X and Y (if more then one variable), grouping variables, or colours or shape</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Geometry</td>
<td style="text-align: left;">Defines the type of plot</td>
</tr>
<tr class="even">
<td style="text-align: left;">Labels and legends</td>
<td style="text-align: left;">Axis and legend labels</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Themes</td>
<td style="text-align: left;">Define the appearance of the plot</td>
</tr>
<tr class="even">
<td style="text-align: left;">Scales</td>
<td style="text-align: left;">Scales for the X and Y axis</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Faceting</td>
<td style="text-align: left;">Divides the plot into subplots</td>
</tr>
<tr class="even">
<td style="text-align: left;">Statistics</td>
<td style="text-align: left;">Builds new variables (e.g., regression line) to plot</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Coordinate systems</td>
<td style="text-align: left;">Defines the relationship between X and Y</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>For each of these elements, you can find a detailed description on the <a href="https://rstudio.github.io/cheatsheets/data-visualization.pdf">ggplot2 cheatsheet</a>. We will give some examples of the types of figures that we can do in ggplot, and how to add layers and complexity without having to add so many lines of code that it becomes cumbersome! Let’s explore some of the syntax using examples for one variable and two variables.</p>
</section>
<section id="one-variable-figures" class="level2" data-number="7.3">
<h2 data-number="7.3" class="anchored" data-anchor-id="one-variable-figures"><span class="header-section-number">7.3</span> One-variable figures</h2>
<p>We’ll start with our cleaned dataset, but let’s save it to a final name, cleandat. That way, if we change the cleaning steps above, we just need to update the number here without changing all of our code for figures.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co"># save final dataset with consistent name</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>cleandat <span class="ot">&lt;-</span> cleandat7</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a><span class="co"># remind ourselves of the dataset</span></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(cleandat)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>We may want to visualize the number of records that we have for each of the islands. Let’s first set up the basics, or canvas, for our plot and specify the data.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> cleandat)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="BYOD1_workshop_files/figure-html/base-plot-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>This is pretty much a blank slate on which we can add <em>aesthetics</em> (fancy word to mean: what is it that we want to show on our figure?). Let’s first take a look at the list of possible <em>aesthetics</em>.</p>
<div class="cell">
<div class="cell-output-display">
<table class="table table-striped table-hover caption-top table-sm small">
<caption>Options to be passed into the `aes` statement</caption>
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">Aesthetics</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">x</td>
<td style="text-align: left;">Variable to be plotted on the X axis</td>
</tr>
<tr class="even">
<td style="text-align: left;">y</td>
<td style="text-align: left;">Variable to be plotted on the Y axis</td>
</tr>
<tr class="odd">
<td style="text-align: left;">size</td>
<td style="text-align: left;">Size of the point, column or line</td>
</tr>
<tr class="even">
<td style="text-align: left;">alpha</td>
<td style="text-align: left;">Transparency of the object</td>
</tr>
<tr class="odd">
<td style="text-align: left;">fill</td>
<td style="text-align: left;">The fill colour of a column area</td>
</tr>
<tr class="even">
<td style="text-align: left;">colour</td>
<td style="text-align: left;">The colour for points and lines, or the outline colour for columns and areas</td>
</tr>
<tr class="odd">
<td style="text-align: left;">shape</td>
<td style="text-align: left;">The shape of the point when making a scatter plot</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>We add different elements to the blank canvas using the <strong>plus</strong> sign. Let’s count how many records we have per island in our cleaned dataset. <strong>Island</strong> will thus be on the <strong>x-axis</strong>, which is our only variable in this plot.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> cleandat) <span class="sc">+</span> </span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">aes</span>(<span class="at">x =</span> island)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="BYOD1_workshop_files/figure-html/add-x-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Adding <code>aes(x = island)</code> simply added the x-axis to our blank canvas. We can now fill it by specifying the type of plot that we want to make with this. For simply visualizing the number of records per island we can do a barchart, which we specify using one of the available <em>geometries</em> as noted on the <a href="https://rstudio.github.io/cheatsheets/data-visualization.pdf">ggplot2 cheatsheet</a>.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> cleandat) <span class="sc">+</span> <span class="co"># blank canvas</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">aes</span>(<span class="at">x =</span> island) <span class="sc">+</span> <span class="co"># define the X-axis</span></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>() <span class="co"># type of graph</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="BYOD1_workshop_files/figure-html/add-geom-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>We’re off to a great start! But this figure could show more information, such as the number of records for each species on each of these islands. Recall the description of the <em>aesthetics</em> options, one being <strong>fill</strong> which can indicate the fill color of the bar based on a categorical variable.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> cleandat) <span class="sc">+</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">aes</span>(<span class="at">x =</span> island, <span class="at">fill =</span> species) <span class="sc">+</span></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="BYOD1_workshop_files/figure-html/bar-fill-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Let’s add labels and make the graph look a little bit nicer by removing the grey background color. Labels can be added using the <code>labs()</code> function, and the theme can be adjusted to change the overall appearance of the figure. Here, we use a black-and-white theme, but there are many available.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> cleandat) <span class="sc">+</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">aes</span>(<span class="at">x =</span> island, <span class="at">fill=</span> species) <span class="sc">+</span></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>() <span class="sc">+</span></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Penguin species per island"</span>,</span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Island"</span>,</span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Number of penguins"</span>,</span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">fill =</span> <span class="st">"Species"</span>) <span class="sc">+</span> <span class="co"># "fill="Species" will change the legend title for the fill aesthetics </span></span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="BYOD1_workshop_files/figure-html/label-plot-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>This figure is starting to look pretty good! You can spend time exploring different themes and taking a look at what the output looks like.</p>
<p>An additional thing that we can do is adjust the color. We can use the function <code>scale_fill_brewer()</code> to pick a different color scheme. The available color palettes can be viewed in <a href="https://colorbrewer2.org/#type=sequential&amp;scheme=BuGn&amp;n=3">RColorBrewer palette</a>. This tool offers an opportunity to select only colors that are colorblind safe or printer friendly, among other things.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> cleandat) <span class="sc">+</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">aes</span>(<span class="at">x =</span> island, <span class="at">fill=</span> species) <span class="sc">+</span></span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>() <span class="sc">+</span></span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Penguin species per island"</span>,</span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Island"</span>,</span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Number of penguins"</span>,</span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">fill =</span> <span class="st">"Species"</span>) <span class="sc">+</span> </span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span> </span>
<span id="cb26-9"><a href="#cb26-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_brewer</span>(<span class="at">type =</span> <span class="st">"qual"</span>, <span class="at">palette =</span> <span class="dv">3</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="BYOD1_workshop_files/figure-html/plot-colors-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Often it is more desirable to look at bars that aren’t stacked but that are side-by-side. The <em>position</em> of the bars can be adjusted with the <code>geom_bar()</code> function. Let’s add this to our figure above since it looks so nice already!</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> cleandat) <span class="sc">+</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">aes</span>(<span class="at">x =</span> island, <span class="at">fill=</span> species) <span class="sc">+</span></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">position =</span> <span class="fu">position_dodge</span>(<span class="at">preserve =</span> <span class="st">"single"</span>)) <span class="sc">+</span></span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Penguin species per island"</span>,</span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Island"</span>,</span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Number of penguins"</span>,</span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">fill =</span> <span class="st">"Species"</span>) <span class="sc">+</span> </span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span> </span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_brewer</span>(<span class="at">type =</span> <span class="st">"qual"</span>, <span class="at">palette =</span> <span class="dv">3</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="BYOD1_workshop_files/figure-html/side-bars-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><strong>Exercise</strong>: Now it is your turn to play with single-variable plots! Refer to the <a href="https://rstudio.github.io/cheatsheets/data-visualization.pdf">ggplot2 cheatsheet</a> and try making a histogram of the penguins body weights to see how the weights are distributed across the dataset overall. Then, add complexity to this figure by visualizing how the distribution of body weight varies across species! Hint: if the species-specific bars are overlapping, you can add transparency using the alpha aesthetic within the geometry function.</p>
<p>As you can see, the options are limitless!</p>
</section>
<section id="two-variables-figures" class="level2" data-number="7.4">
<h2 data-number="7.4" class="anchored" data-anchor-id="two-variables-figures"><span class="header-section-number">7.4</span> Two-variables figures</h2>
<p>In most instances we want to show relationships between two variables, sometimes we also want to show how that relationship varies across groups. We will demonstrate this with the penguin dataset by building a figure of the relationship between penguins flipper length and body mass.</p>
<p>We’ve already seen how to build a figure from the basic level (data only) to a nice figure with labels, titles, and better colors, so we can go ahead and build a nice scatterplot right away. The geometry to use in that instance will be <code>geom_point()</code> instead of <code>geom_bar()</code>. Here will have a <strong>X</strong> and a <strong>Y</strong> variable to pass to the <code>aes()</code> function.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> cleandat)<span class="sc">+</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">aes</span>(<span class="at">x =</span> body_mass_g, <span class="at">y =</span> flipper_length_mm) <span class="sc">+</span> </span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Relationship between flipper length and body mass"</span>,</span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Body mass (g)"</span>,</span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Flipper length (mm)"</span>) <span class="sc">+</span></span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="BYOD1_workshop_files/figure-html/scatterplot-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Above we see the relationship using the full dataset (i.e., all species across all islands). We could follow a similar approach as above to show how that relationship varies across species. We could use different colors and/or different shapes to highly species-specific patterns. Let’s experiment with this and use the same colour palette as above!</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> cleandat)<span class="sc">+</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">aes</span>(<span class="at">x =</span> body_mass_g, <span class="at">y =</span> flipper_length_mm, <span class="at">color =</span> species) <span class="sc">+</span> </span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Relationship between flipper length and body mass"</span>,</span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Body mass (g)"</span>,</span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Flipper length (mm)"</span>,</span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">color =</span> <span class="st">"Species"</span>) <span class="sc">+</span></span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb29-9"><a href="#cb29-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_colour_brewer</span>(<span class="at">type =</span> <span class="st">"qual"</span>, <span class="at">palette =</span> <span class="dv">3</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="BYOD1_workshop_files/figure-html/scatterplot-colors-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Interesting! Intuitively our eyes are trying to draw regression lines through the cloud of points. It is possible to add these lines on the figure using the <code>geom_smooth()</code> function.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> cleandat) <span class="sc">+</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">aes</span>(<span class="at">x =</span> body_mass_g, <span class="at">y =</span> flipper_length_mm, <span class="at">color =</span> species) <span class="sc">+</span> </span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Relationship between flipper length and body mass"</span>,</span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Body mass (g)"</span>,</span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Flipper length (mm)"</span>,</span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">color =</span> <span class="st">"Species"</span>) <span class="sc">+</span></span>
<span id="cb30-8"><a href="#cb30-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb30-9"><a href="#cb30-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_colour_brewer</span>(<span class="at">type =</span><span class="st">"qual"</span>, <span class="at">palette =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb30-10"><a href="#cb30-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">se =</span> <span class="cn">FALSE</span>, <span class="at">formula =</span> <span class="st">'y ~ x'</span>) </span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="BYOD1_workshop_files/figure-html/plot-regression-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><strong>Note:</strong> se = TRUE would show confidence limits based on the standard error. The color follows the same as the cloud of points because it’s in the initial aes and does not need to be added again here. If you specify the color within <code>geom_point()</code> or <code>geom_smooth()</code> using aes(), it will only apply to that layer.</p>
<p>If you would like you can take a moment to play with other variables and make additional figures. Also note that this is a pretty clean dataset and straight regression lines seem to fit pretty well. This isn’t always the case, however, and the figures do not replace thorough statistical tests and models!</p>
<p><strong>Exercise</strong>: Repeat the same figure as above but show <code>species</code> as different colors and <code>islands</code> as different shapes. What do you notice?</p>
</section>
<section id="facets" class="level2" data-number="7.5">
<h2 data-number="7.5" class="anchored" data-anchor-id="facets"><span class="header-section-number">7.5</span> Facets!</h2>
<p>At times we may want to display complex information for several categories simultaneously, and adding all of that complexity to one graph leads to figures that can be difficult to interpret. Using <em>facets</em> we can display the same figure in different panels based on the values of a categorical variable. For example, instead of using different shapes for the different islands, we could use <code>facet_wrap()</code> function as below.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> cleandat) <span class="sc">+</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">aes</span>(<span class="at">x =</span> body_mass_g, <span class="at">y =</span> flipper_length_mm, <span class="at">color =</span> species) <span class="sc">+</span>   </span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title=</span><span class="st">"Island comparision of flipper length and body mass by species"</span>,</span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Body mass (g)"</span>,</span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Flipper length (mm)"</span>,</span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">color =</span> <span class="st">"Species"</span>) <span class="sc">+</span> </span>
<span id="cb31-8"><a href="#cb31-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb31-9"><a href="#cb31-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_colour_brewer</span>(<span class="at">type =</span> <span class="st">"qual"</span>, <span class="at">palette =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb31-10"><a href="#cb31-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">se =</span> <span class="cn">FALSE</span>, <span class="at">formula =</span> <span class="st">'y ~ x'</span>) <span class="sc">+</span></span>
<span id="cb31-11"><a href="#cb31-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>island)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="BYOD1_workshop_files/figure-html/facets-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><strong>Exercise</strong>: Try adding <code>scales="free"</code> argument within <code>facet_wrap()</code> and see what happens. Would this be a useful figure if the purpose was to compare the different islands? Are there cases where it would be useful?</p>
</section>
<section id="interactive-plots" class="level2" data-number="7.6">
<h2 data-number="7.6" class="anchored" data-anchor-id="interactive-plots"><span class="header-section-number">7.6</span> Interactive plots</h2>
<p>The <code>plotly</code> package provides functionality for making interactive plots that has tools for zooming in and out, panning, hovering and among others. While this package has many different ways to create these plots with different level of functionality, the simplest is the <code>ggplotly()</code> function which adds these tools to ggplots. This can be very useful for exploring data.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="co"># install and load the plotly package</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a><span class="co"># install.package("plotly") # delete the '#' to install</span></span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(plotly)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>There are two ways to run the <code>ggplotly()</code> function. First, simply wrap the <code>ggplotly()</code> function around the chain of functions used to make a ggplot.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplotly</span>(</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="at">data =</span> cleandat) <span class="sc">+</span></span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">aes</span>(<span class="at">x =</span> body_mass_g, <span class="at">y =</span> flipper_length_mm, <span class="at">color =</span> species) <span class="sc">+</span>   </span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title=</span><span class="st">"Island comparision of flipper length and body mass by species"</span>,</span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Body mass (g)"</span>,</span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Flipper length (mm)"</span>,</span>
<span id="cb33-8"><a href="#cb33-8" aria-hidden="true" tabindex="-1"></a>       <span class="at">color =</span> <span class="st">"Species"</span>) <span class="sc">+</span> </span>
<span id="cb33-9"><a href="#cb33-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb33-10"><a href="#cb33-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_colour_brewer</span>(<span class="at">type =</span> <span class="st">"qual"</span>, <span class="at">palette =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb33-11"><a href="#cb33-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">se =</span> <span class="cn">FALSE</span>, <span class="at">formula =</span> <span class="st">'y ~ x'</span>)</span>
<span id="cb33-12"><a href="#cb33-12" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-f043da8f74c8e885b90d" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-f043da8f74c8e885b90d">{"x":{"data":[{"x":[3750,3800,3250,3450,3650,3625,4675,3475,4250,3300,3700,3200,3800,4400,3700,3450,4500,3325,4200,3400,3600,3800,3950,3800,3800,3550,3200,3150,3950,3250,3900,3300,3900,3325,4150,3950,3550,3300,4650,3150,3900,3100,4400,3000,4600,3425,2975,3450,4150,3500,4300,3450,4050,2900,3700,3550,3800,2850,3750,3150,4400,3600,4050,2850,3950,3350,4100,3050,4450,3600,3900,3550,4150,3700,4250,3700,3900,3550,4000,3200,4700,3800,4200,3350,3550,3800,3500,3950,3600,3550,4300,3400,4450,3300,4300,3700,4350,2900,4100,3725,4725,3075,4250,2925,3550,3750,3900,3175,4775,3825,4600,3200,4275,3900,4075,2900,3775,3350,3325,3150,3500,3450,3875,3050,4000,3275,4300,3050,4000,3325,3500,3500,4475,3425,3900,3175,3975,3400,4250,3400,3475,3050,3725,3000,3650,4250,3475,3450,3750,3700,4000],"y":[181,186,195,193,190,181,195,193,190,186,180,182,191,198,185,195,197,184,194,174,180,189,185,180,187,183,187,172,180,178,178,188,184,195,196,190,180,181,184,182,195,186,196,185,190,182,179,190,191,186,188,190,200,187,191,186,193,181,194,185,195,185,192,184,192,195,188,190,198,190,190,196,197,190,195,191,184,187,195,189,196,187,193,191,194,190,189,189,190,202,205,185,186,187,208,190,196,178,192,192,203,183,190,193,184,199,190,181,197,198,191,193,197,191,196,188,199,189,189,187,198,176,202,186,199,191,195,191,210,190,197,193,199,187,190,191,200,185,193,193,187,188,190,192,185,190,184,195,193,187,201],"text":["body_mass_g: 3750<br />flipper_length_mm: 181<br />species: Adelie Penguin","body_mass_g: 3800<br />flipper_length_mm: 186<br />species: Adelie Penguin","body_mass_g: 3250<br />flipper_length_mm: 195<br />species: Adelie Penguin","body_mass_g: 3450<br />flipper_length_mm: 193<br />species: Adelie Penguin","body_mass_g: 3650<br />flipper_length_mm: 190<br />species: Adelie Penguin","body_mass_g: 3625<br />flipper_length_mm: 181<br />species: Adelie Penguin","body_mass_g: 4675<br />flipper_length_mm: 195<br />species: Adelie Penguin","body_mass_g: 3475<br />flipper_length_mm: 193<br />species: Adelie Penguin","body_mass_g: 4250<br />flipper_length_mm: 190<br />species: Adelie Penguin","body_mass_g: 3300<br />flipper_length_mm: 186<br />species: Adelie Penguin","body_mass_g: 3700<br />flipper_length_mm: 180<br />species: Adelie Penguin","body_mass_g: 3200<br />flipper_length_mm: 182<br />species: Adelie Penguin","body_mass_g: 3800<br />flipper_length_mm: 191<br />species: Adelie Penguin","body_mass_g: 4400<br />flipper_length_mm: 198<br />species: Adelie Penguin","body_mass_g: 3700<br />flipper_length_mm: 185<br />species: Adelie Penguin","body_mass_g: 3450<br />flipper_length_mm: 195<br />species: Adelie Penguin","body_mass_g: 4500<br />flipper_length_mm: 197<br />species: Adelie Penguin","body_mass_g: 3325<br />flipper_length_mm: 184<br />species: Adelie Penguin","body_mass_g: 4200<br />flipper_length_mm: 194<br />species: Adelie Penguin","body_mass_g: 3400<br />flipper_length_mm: 174<br />species: Adelie Penguin","body_mass_g: 3600<br />flipper_length_mm: 180<br />species: Adelie Penguin","body_mass_g: 3800<br />flipper_length_mm: 189<br />species: Adelie Penguin","body_mass_g: 3950<br />flipper_length_mm: 185<br />species: Adelie Penguin","body_mass_g: 3800<br />flipper_length_mm: 180<br />species: Adelie Penguin","body_mass_g: 3800<br />flipper_length_mm: 187<br />species: Adelie Penguin","body_mass_g: 3550<br />flipper_length_mm: 183<br />species: Adelie Penguin","body_mass_g: 3200<br />flipper_length_mm: 187<br />species: Adelie Penguin","body_mass_g: 3150<br />flipper_length_mm: 172<br />species: Adelie Penguin","body_mass_g: 3950<br />flipper_length_mm: 180<br />species: Adelie Penguin","body_mass_g: 3250<br />flipper_length_mm: 178<br />species: Adelie Penguin","body_mass_g: 3900<br />flipper_length_mm: 178<br />species: Adelie Penguin","body_mass_g: 3300<br />flipper_length_mm: 188<br />species: Adelie Penguin","body_mass_g: 3900<br />flipper_length_mm: 184<br />species: Adelie Penguin","body_mass_g: 3325<br />flipper_length_mm: 195<br />species: Adelie Penguin","body_mass_g: 4150<br />flipper_length_mm: 196<br />species: Adelie Penguin","body_mass_g: 3950<br />flipper_length_mm: 190<br />species: Adelie Penguin","body_mass_g: 3550<br />flipper_length_mm: 180<br />species: Adelie Penguin","body_mass_g: 3300<br />flipper_length_mm: 181<br />species: Adelie Penguin","body_mass_g: 4650<br />flipper_length_mm: 184<br />species: Adelie Penguin","body_mass_g: 3150<br />flipper_length_mm: 182<br />species: Adelie Penguin","body_mass_g: 3900<br />flipper_length_mm: 195<br />species: Adelie Penguin","body_mass_g: 3100<br />flipper_length_mm: 186<br />species: Adelie Penguin","body_mass_g: 4400<br />flipper_length_mm: 196<br />species: Adelie Penguin","body_mass_g: 3000<br />flipper_length_mm: 185<br />species: Adelie Penguin","body_mass_g: 4600<br />flipper_length_mm: 190<br />species: Adelie Penguin","body_mass_g: 3425<br />flipper_length_mm: 182<br />species: Adelie Penguin","body_mass_g: 2975<br />flipper_length_mm: 179<br />species: Adelie Penguin","body_mass_g: 3450<br />flipper_length_mm: 190<br />species: Adelie Penguin","body_mass_g: 4150<br />flipper_length_mm: 191<br />species: Adelie Penguin","body_mass_g: 3500<br />flipper_length_mm: 186<br />species: Adelie Penguin","body_mass_g: 4300<br />flipper_length_mm: 188<br />species: Adelie Penguin","body_mass_g: 3450<br />flipper_length_mm: 190<br />species: Adelie Penguin","body_mass_g: 4050<br />flipper_length_mm: 200<br />species: Adelie Penguin","body_mass_g: 2900<br />flipper_length_mm: 187<br />species: Adelie Penguin","body_mass_g: 3700<br />flipper_length_mm: 191<br />species: Adelie Penguin","body_mass_g: 3550<br />flipper_length_mm: 186<br />species: Adelie Penguin","body_mass_g: 3800<br />flipper_length_mm: 193<br />species: Adelie Penguin","body_mass_g: 2850<br />flipper_length_mm: 181<br />species: Adelie Penguin","body_mass_g: 3750<br />flipper_length_mm: 194<br />species: Adelie Penguin","body_mass_g: 3150<br />flipper_length_mm: 185<br />species: Adelie Penguin","body_mass_g: 4400<br />flipper_length_mm: 195<br />species: Adelie Penguin","body_mass_g: 3600<br />flipper_length_mm: 185<br />species: Adelie Penguin","body_mass_g: 4050<br />flipper_length_mm: 192<br />species: Adelie Penguin","body_mass_g: 2850<br />flipper_length_mm: 184<br />species: Adelie Penguin","body_mass_g: 3950<br />flipper_length_mm: 192<br />species: Adelie Penguin","body_mass_g: 3350<br />flipper_length_mm: 195<br />species: Adelie Penguin","body_mass_g: 4100<br />flipper_length_mm: 188<br />species: Adelie Penguin","body_mass_g: 3050<br />flipper_length_mm: 190<br />species: Adelie Penguin","body_mass_g: 4450<br />flipper_length_mm: 198<br />species: Adelie Penguin","body_mass_g: 3600<br />flipper_length_mm: 190<br />species: Adelie Penguin","body_mass_g: 3900<br />flipper_length_mm: 190<br />species: Adelie Penguin","body_mass_g: 3550<br />flipper_length_mm: 196<br />species: Adelie Penguin","body_mass_g: 4150<br />flipper_length_mm: 197<br />species: Adelie Penguin","body_mass_g: 3700<br />flipper_length_mm: 190<br />species: Adelie Penguin","body_mass_g: 4250<br />flipper_length_mm: 195<br />species: Adelie Penguin","body_mass_g: 3700<br />flipper_length_mm: 191<br />species: Adelie Penguin","body_mass_g: 3900<br />flipper_length_mm: 184<br />species: Adelie Penguin","body_mass_g: 3550<br />flipper_length_mm: 187<br />species: Adelie Penguin","body_mass_g: 4000<br />flipper_length_mm: 195<br />species: Adelie Penguin","body_mass_g: 3200<br />flipper_length_mm: 189<br />species: Adelie Penguin","body_mass_g: 4700<br />flipper_length_mm: 196<br />species: Adelie Penguin","body_mass_g: 3800<br />flipper_length_mm: 187<br />species: Adelie Penguin","body_mass_g: 4200<br />flipper_length_mm: 193<br />species: Adelie Penguin","body_mass_g: 3350<br />flipper_length_mm: 191<br />species: Adelie Penguin","body_mass_g: 3550<br />flipper_length_mm: 194<br />species: Adelie Penguin","body_mass_g: 3800<br />flipper_length_mm: 190<br />species: Adelie Penguin","body_mass_g: 3500<br />flipper_length_mm: 189<br />species: Adelie Penguin","body_mass_g: 3950<br />flipper_length_mm: 189<br />species: Adelie Penguin","body_mass_g: 3600<br />flipper_length_mm: 190<br />species: Adelie Penguin","body_mass_g: 3550<br />flipper_length_mm: 202<br />species: Adelie Penguin","body_mass_g: 4300<br />flipper_length_mm: 205<br />species: Adelie Penguin","body_mass_g: 3400<br />flipper_length_mm: 185<br />species: Adelie Penguin","body_mass_g: 4450<br />flipper_length_mm: 186<br />species: Adelie Penguin","body_mass_g: 3300<br />flipper_length_mm: 187<br />species: Adelie Penguin","body_mass_g: 4300<br />flipper_length_mm: 208<br />species: Adelie Penguin","body_mass_g: 3700<br />flipper_length_mm: 190<br />species: Adelie Penguin","body_mass_g: 4350<br />flipper_length_mm: 196<br />species: Adelie Penguin","body_mass_g: 2900<br />flipper_length_mm: 178<br />species: Adelie Penguin","body_mass_g: 4100<br />flipper_length_mm: 192<br />species: Adelie Penguin","body_mass_g: 3725<br />flipper_length_mm: 192<br />species: Adelie Penguin","body_mass_g: 4725<br />flipper_length_mm: 203<br />species: Adelie Penguin","body_mass_g: 3075<br />flipper_length_mm: 183<br />species: Adelie Penguin","body_mass_g: 4250<br />flipper_length_mm: 190<br />species: Adelie Penguin","body_mass_g: 2925<br />flipper_length_mm: 193<br />species: Adelie Penguin","body_mass_g: 3550<br />flipper_length_mm: 184<br />species: Adelie Penguin","body_mass_g: 3750<br />flipper_length_mm: 199<br />species: Adelie Penguin","body_mass_g: 3900<br />flipper_length_mm: 190<br />species: Adelie Penguin","body_mass_g: 3175<br />flipper_length_mm: 181<br />species: Adelie Penguin","body_mass_g: 4775<br />flipper_length_mm: 197<br />species: Adelie Penguin","body_mass_g: 3825<br />flipper_length_mm: 198<br />species: Adelie Penguin","body_mass_g: 4600<br />flipper_length_mm: 191<br />species: Adelie Penguin","body_mass_g: 3200<br />flipper_length_mm: 193<br />species: Adelie Penguin","body_mass_g: 4275<br />flipper_length_mm: 197<br />species: Adelie Penguin","body_mass_g: 3900<br />flipper_length_mm: 191<br />species: Adelie Penguin","body_mass_g: 4075<br />flipper_length_mm: 196<br />species: Adelie Penguin","body_mass_g: 2900<br />flipper_length_mm: 188<br />species: Adelie Penguin","body_mass_g: 3775<br />flipper_length_mm: 199<br />species: Adelie Penguin","body_mass_g: 3350<br />flipper_length_mm: 189<br />species: Adelie Penguin","body_mass_g: 3325<br />flipper_length_mm: 189<br />species: Adelie Penguin","body_mass_g: 3150<br />flipper_length_mm: 187<br />species: Adelie Penguin","body_mass_g: 3500<br />flipper_length_mm: 198<br />species: Adelie Penguin","body_mass_g: 3450<br />flipper_length_mm: 176<br />species: Adelie Penguin","body_mass_g: 3875<br />flipper_length_mm: 202<br />species: Adelie Penguin","body_mass_g: 3050<br />flipper_length_mm: 186<br />species: Adelie Penguin","body_mass_g: 4000<br />flipper_length_mm: 199<br />species: Adelie Penguin","body_mass_g: 3275<br />flipper_length_mm: 191<br />species: Adelie Penguin","body_mass_g: 4300<br />flipper_length_mm: 195<br />species: Adelie Penguin","body_mass_g: 3050<br />flipper_length_mm: 191<br />species: Adelie Penguin","body_mass_g: 4000<br />flipper_length_mm: 210<br />species: Adelie Penguin","body_mass_g: 3325<br />flipper_length_mm: 190<br />species: Adelie Penguin","body_mass_g: 3500<br />flipper_length_mm: 197<br />species: Adelie Penguin","body_mass_g: 3500<br />flipper_length_mm: 193<br />species: Adelie Penguin","body_mass_g: 4475<br />flipper_length_mm: 199<br />species: Adelie Penguin","body_mass_g: 3425<br />flipper_length_mm: 187<br />species: Adelie Penguin","body_mass_g: 3900<br />flipper_length_mm: 190<br />species: Adelie Penguin","body_mass_g: 3175<br />flipper_length_mm: 191<br />species: Adelie Penguin","body_mass_g: 3975<br />flipper_length_mm: 200<br />species: Adelie Penguin","body_mass_g: 3400<br />flipper_length_mm: 185<br />species: Adelie Penguin","body_mass_g: 4250<br />flipper_length_mm: 193<br />species: Adelie Penguin","body_mass_g: 3400<br />flipper_length_mm: 193<br />species: Adelie Penguin","body_mass_g: 3475<br />flipper_length_mm: 187<br />species: Adelie Penguin","body_mass_g: 3050<br />flipper_length_mm: 188<br />species: Adelie Penguin","body_mass_g: 3725<br />flipper_length_mm: 190<br />species: Adelie Penguin","body_mass_g: 3000<br />flipper_length_mm: 192<br />species: Adelie Penguin","body_mass_g: 3650<br />flipper_length_mm: 185<br />species: Adelie Penguin","body_mass_g: 4250<br />flipper_length_mm: 190<br />species: Adelie Penguin","body_mass_g: 3475<br />flipper_length_mm: 184<br />species: Adelie Penguin","body_mass_g: 3450<br />flipper_length_mm: 195<br />species: Adelie Penguin","body_mass_g: 3750<br />flipper_length_mm: 193<br />species: Adelie Penguin","body_mass_g: 3700<br />flipper_length_mm: 187<br />species: Adelie Penguin","body_mass_g: 4000<br />flipper_length_mm: 201<br />species: Adelie Penguin"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(166,206,227,1)","opacity":1,"size":5.6692913385826778,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(166,206,227,1)"}},"hoveron":"points","name":"Adelie Penguin","legendgroup":"Adelie Penguin","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[3500,3900,3650,3525,3725,3950,3250,3750,4150,3700,3800,3775,3700,4050,3575,4050,3300,3700,3450,4400,3600,3400,2900,3800,3300,4150,3400,3800,3700,4550,3200,4300,3350,4100,3600,3900,3850,4800,2700,4500,3950,3650,3550,3500,3675,4450,3400,4300,3250,3675,3325,3950,3600,4050,3350,3450,3250,4050,3800,3525,3950,3650,3650,4000,3400,3775,4100,3775],"y":[192,196,193,188,197,198,178,197,195,198,193,194,185,201,190,201,197,181,190,195,181,191,187,193,195,197,200,200,191,205,187,201,187,203,195,199,195,210,192,205,210,187,196,196,196,201,190,212,187,198,199,201,193,203,187,197,191,203,202,194,206,189,195,207,202,193,210,198],"text":["body_mass_g: 3500<br />flipper_length_mm: 192<br />species: Chinstrap penguin","body_mass_g: 3900<br />flipper_length_mm: 196<br />species: Chinstrap penguin","body_mass_g: 3650<br />flipper_length_mm: 193<br />species: Chinstrap penguin","body_mass_g: 3525<br />flipper_length_mm: 188<br />species: Chinstrap penguin","body_mass_g: 3725<br />flipper_length_mm: 197<br />species: Chinstrap penguin","body_mass_g: 3950<br />flipper_length_mm: 198<br />species: Chinstrap penguin","body_mass_g: 3250<br />flipper_length_mm: 178<br />species: Chinstrap penguin","body_mass_g: 3750<br />flipper_length_mm: 197<br />species: Chinstrap penguin","body_mass_g: 4150<br />flipper_length_mm: 195<br />species: Chinstrap penguin","body_mass_g: 3700<br />flipper_length_mm: 198<br />species: Chinstrap penguin","body_mass_g: 3800<br />flipper_length_mm: 193<br />species: Chinstrap penguin","body_mass_g: 3775<br />flipper_length_mm: 194<br />species: Chinstrap penguin","body_mass_g: 3700<br />flipper_length_mm: 185<br />species: Chinstrap penguin","body_mass_g: 4050<br />flipper_length_mm: 201<br />species: Chinstrap penguin","body_mass_g: 3575<br />flipper_length_mm: 190<br />species: Chinstrap penguin","body_mass_g: 4050<br />flipper_length_mm: 201<br />species: Chinstrap penguin","body_mass_g: 3300<br />flipper_length_mm: 197<br />species: Chinstrap penguin","body_mass_g: 3700<br />flipper_length_mm: 181<br />species: Chinstrap penguin","body_mass_g: 3450<br />flipper_length_mm: 190<br />species: Chinstrap penguin","body_mass_g: 4400<br />flipper_length_mm: 195<br />species: Chinstrap penguin","body_mass_g: 3600<br />flipper_length_mm: 181<br />species: Chinstrap penguin","body_mass_g: 3400<br />flipper_length_mm: 191<br />species: Chinstrap penguin","body_mass_g: 2900<br />flipper_length_mm: 187<br />species: Chinstrap penguin","body_mass_g: 3800<br />flipper_length_mm: 193<br />species: Chinstrap penguin","body_mass_g: 3300<br />flipper_length_mm: 195<br />species: Chinstrap penguin","body_mass_g: 4150<br />flipper_length_mm: 197<br />species: Chinstrap penguin","body_mass_g: 3400<br />flipper_length_mm: 200<br />species: Chinstrap penguin","body_mass_g: 3800<br />flipper_length_mm: 200<br />species: Chinstrap penguin","body_mass_g: 3700<br />flipper_length_mm: 191<br />species: Chinstrap penguin","body_mass_g: 4550<br />flipper_length_mm: 205<br />species: Chinstrap penguin","body_mass_g: 3200<br />flipper_length_mm: 187<br />species: Chinstrap penguin","body_mass_g: 4300<br />flipper_length_mm: 201<br />species: Chinstrap penguin","body_mass_g: 3350<br />flipper_length_mm: 187<br />species: Chinstrap penguin","body_mass_g: 4100<br />flipper_length_mm: 203<br />species: Chinstrap penguin","body_mass_g: 3600<br />flipper_length_mm: 195<br />species: Chinstrap penguin","body_mass_g: 3900<br />flipper_length_mm: 199<br />species: Chinstrap penguin","body_mass_g: 3850<br />flipper_length_mm: 195<br />species: Chinstrap penguin","body_mass_g: 4800<br />flipper_length_mm: 210<br />species: Chinstrap penguin","body_mass_g: 2700<br />flipper_length_mm: 192<br />species: Chinstrap penguin","body_mass_g: 4500<br />flipper_length_mm: 205<br />species: Chinstrap penguin","body_mass_g: 3950<br />flipper_length_mm: 210<br />species: Chinstrap penguin","body_mass_g: 3650<br />flipper_length_mm: 187<br />species: Chinstrap penguin","body_mass_g: 3550<br />flipper_length_mm: 196<br />species: Chinstrap penguin","body_mass_g: 3500<br />flipper_length_mm: 196<br />species: Chinstrap penguin","body_mass_g: 3675<br />flipper_length_mm: 196<br />species: Chinstrap penguin","body_mass_g: 4450<br />flipper_length_mm: 201<br />species: Chinstrap penguin","body_mass_g: 3400<br />flipper_length_mm: 190<br />species: Chinstrap penguin","body_mass_g: 4300<br />flipper_length_mm: 212<br />species: Chinstrap penguin","body_mass_g: 3250<br />flipper_length_mm: 187<br />species: Chinstrap penguin","body_mass_g: 3675<br />flipper_length_mm: 198<br />species: Chinstrap penguin","body_mass_g: 3325<br />flipper_length_mm: 199<br />species: Chinstrap penguin","body_mass_g: 3950<br />flipper_length_mm: 201<br />species: Chinstrap penguin","body_mass_g: 3600<br />flipper_length_mm: 193<br />species: Chinstrap penguin","body_mass_g: 4050<br />flipper_length_mm: 203<br />species: Chinstrap penguin","body_mass_g: 3350<br />flipper_length_mm: 187<br />species: Chinstrap penguin","body_mass_g: 3450<br />flipper_length_mm: 197<br />species: Chinstrap penguin","body_mass_g: 3250<br />flipper_length_mm: 191<br />species: Chinstrap penguin","body_mass_g: 4050<br />flipper_length_mm: 203<br />species: Chinstrap penguin","body_mass_g: 3800<br />flipper_length_mm: 202<br />species: Chinstrap penguin","body_mass_g: 3525<br />flipper_length_mm: 194<br />species: Chinstrap penguin","body_mass_g: 3950<br />flipper_length_mm: 206<br />species: Chinstrap penguin","body_mass_g: 3650<br />flipper_length_mm: 189<br />species: Chinstrap penguin","body_mass_g: 3650<br />flipper_length_mm: 195<br />species: Chinstrap penguin","body_mass_g: 4000<br />flipper_length_mm: 207<br />species: Chinstrap penguin","body_mass_g: 3400<br />flipper_length_mm: 202<br />species: Chinstrap penguin","body_mass_g: 3775<br />flipper_length_mm: 193<br />species: Chinstrap penguin","body_mass_g: 4100<br />flipper_length_mm: 210<br />species: Chinstrap penguin","body_mass_g: 3775<br />flipper_length_mm: 198<br />species: Chinstrap penguin"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(31,120,180,1)","opacity":1,"size":5.6692913385826778,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(31,120,180,1)"}},"hoveron":"points","name":"Chinstrap penguin","legendgroup":"Chinstrap penguin","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[4500,5700,4450,5700,5400,4550,4800,5200,4400,5150,4650,5550,4650,5850,4200,5850,4150,6300,4800,5350,5700,5000,4400,5050,5000,5100,4100,5650,4600,5550,5250,4700,5050,6050,5150,5400,4950,5250,4350,5350,3950,5700,4300,4750,5550,4900,4200,5400,5100,5300,4850,5300,4400,5000,4900,5050,4300,5000,4450,5550,4200,5300,4400,5650,4700,5700,4650,5800,4700,5550,4750,5000,5100,5200,4700,5800,4600,6000,4750,5950,4625,5450,4725,5350,4750,5600,4600,5300,4875,5550,4950,5400,4750,5650,4850,5200,4925,4875,4625,5250,4850,5600,4975,5500,4725,5500,4700,5500,4575,5500,5000,5950,4650,5500,4375,5850,4875,6000,4925,4850,5750,5200,5400],"y":[211,230,210,218,215,210,211,219,209,215,214,216,214,213,210,217,210,221,209,222,218,215,213,215,215,215,216,215,210,220,222,209,207,230,220,220,213,219,208,208,208,225,210,216,222,217,210,225,213,215,210,220,210,225,217,220,208,220,208,224,208,221,214,231,219,230,214,229,220,223,216,221,221,217,216,230,209,220,215,223,212,221,212,224,212,228,218,218,212,230,218,228,212,224,214,226,216,222,203,225,219,228,215,228,216,215,210,219,208,209,216,229,213,230,217,230,217,222,214,215,222,212,213],"text":["body_mass_g: 4500<br />flipper_length_mm: 211<br />species: Gentoo penguin","body_mass_g: 5700<br />flipper_length_mm: 230<br />species: Gentoo penguin","body_mass_g: 4450<br />flipper_length_mm: 210<br />species: Gentoo penguin","body_mass_g: 5700<br />flipper_length_mm: 218<br />species: Gentoo penguin","body_mass_g: 5400<br />flipper_length_mm: 215<br />species: Gentoo penguin","body_mass_g: 4550<br />flipper_length_mm: 210<br />species: Gentoo penguin","body_mass_g: 4800<br />flipper_length_mm: 211<br />species: Gentoo penguin","body_mass_g: 5200<br />flipper_length_mm: 219<br />species: Gentoo penguin","body_mass_g: 4400<br />flipper_length_mm: 209<br />species: Gentoo penguin","body_mass_g: 5150<br />flipper_length_mm: 215<br />species: Gentoo penguin","body_mass_g: 4650<br />flipper_length_mm: 214<br />species: Gentoo penguin","body_mass_g: 5550<br />flipper_length_mm: 216<br />species: Gentoo penguin","body_mass_g: 4650<br />flipper_length_mm: 214<br />species: Gentoo penguin","body_mass_g: 5850<br />flipper_length_mm: 213<br />species: Gentoo penguin","body_mass_g: 4200<br />flipper_length_mm: 210<br />species: Gentoo penguin","body_mass_g: 5850<br />flipper_length_mm: 217<br />species: Gentoo penguin","body_mass_g: 4150<br />flipper_length_mm: 210<br />species: Gentoo penguin","body_mass_g: 6300<br />flipper_length_mm: 221<br />species: Gentoo penguin","body_mass_g: 4800<br />flipper_length_mm: 209<br />species: Gentoo penguin","body_mass_g: 5350<br />flipper_length_mm: 222<br />species: Gentoo penguin","body_mass_g: 5700<br />flipper_length_mm: 218<br />species: Gentoo penguin","body_mass_g: 5000<br />flipper_length_mm: 215<br />species: Gentoo penguin","body_mass_g: 4400<br />flipper_length_mm: 213<br />species: Gentoo penguin","body_mass_g: 5050<br />flipper_length_mm: 215<br />species: Gentoo penguin","body_mass_g: 5000<br />flipper_length_mm: 215<br />species: Gentoo penguin","body_mass_g: 5100<br />flipper_length_mm: 215<br />species: Gentoo penguin","body_mass_g: 4100<br />flipper_length_mm: 216<br />species: Gentoo penguin","body_mass_g: 5650<br />flipper_length_mm: 215<br />species: Gentoo penguin","body_mass_g: 4600<br />flipper_length_mm: 210<br />species: Gentoo penguin","body_mass_g: 5550<br />flipper_length_mm: 220<br />species: Gentoo penguin","body_mass_g: 5250<br />flipper_length_mm: 222<br />species: Gentoo penguin","body_mass_g: 4700<br />flipper_length_mm: 209<br />species: Gentoo penguin","body_mass_g: 5050<br />flipper_length_mm: 207<br />species: Gentoo penguin","body_mass_g: 6050<br />flipper_length_mm: 230<br />species: Gentoo penguin","body_mass_g: 5150<br />flipper_length_mm: 220<br />species: Gentoo penguin","body_mass_g: 5400<br />flipper_length_mm: 220<br />species: Gentoo penguin","body_mass_g: 4950<br />flipper_length_mm: 213<br />species: Gentoo penguin","body_mass_g: 5250<br />flipper_length_mm: 219<br />species: Gentoo penguin","body_mass_g: 4350<br />flipper_length_mm: 208<br />species: Gentoo penguin","body_mass_g: 5350<br />flipper_length_mm: 208<br />species: Gentoo penguin","body_mass_g: 3950<br />flipper_length_mm: 208<br />species: Gentoo penguin","body_mass_g: 5700<br />flipper_length_mm: 225<br />species: Gentoo penguin","body_mass_g: 4300<br />flipper_length_mm: 210<br />species: Gentoo penguin","body_mass_g: 4750<br />flipper_length_mm: 216<br />species: Gentoo penguin","body_mass_g: 5550<br />flipper_length_mm: 222<br />species: Gentoo penguin","body_mass_g: 4900<br />flipper_length_mm: 217<br />species: Gentoo penguin","body_mass_g: 4200<br />flipper_length_mm: 210<br />species: Gentoo penguin","body_mass_g: 5400<br />flipper_length_mm: 225<br />species: Gentoo penguin","body_mass_g: 5100<br />flipper_length_mm: 213<br />species: Gentoo penguin","body_mass_g: 5300<br />flipper_length_mm: 215<br />species: Gentoo penguin","body_mass_g: 4850<br />flipper_length_mm: 210<br />species: Gentoo penguin","body_mass_g: 5300<br />flipper_length_mm: 220<br />species: Gentoo penguin","body_mass_g: 4400<br />flipper_length_mm: 210<br />species: Gentoo penguin","body_mass_g: 5000<br />flipper_length_mm: 225<br />species: Gentoo penguin","body_mass_g: 4900<br />flipper_length_mm: 217<br />species: Gentoo penguin","body_mass_g: 5050<br />flipper_length_mm: 220<br />species: Gentoo penguin","body_mass_g: 4300<br />flipper_length_mm: 208<br />species: Gentoo penguin","body_mass_g: 5000<br />flipper_length_mm: 220<br />species: Gentoo penguin","body_mass_g: 4450<br />flipper_length_mm: 208<br />species: Gentoo penguin","body_mass_g: 5550<br />flipper_length_mm: 224<br />species: Gentoo penguin","body_mass_g: 4200<br />flipper_length_mm: 208<br />species: Gentoo penguin","body_mass_g: 5300<br />flipper_length_mm: 221<br />species: Gentoo penguin","body_mass_g: 4400<br />flipper_length_mm: 214<br />species: Gentoo penguin","body_mass_g: 5650<br />flipper_length_mm: 231<br />species: Gentoo penguin","body_mass_g: 4700<br />flipper_length_mm: 219<br />species: Gentoo penguin","body_mass_g: 5700<br />flipper_length_mm: 230<br />species: Gentoo penguin","body_mass_g: 4650<br />flipper_length_mm: 214<br />species: Gentoo penguin","body_mass_g: 5800<br />flipper_length_mm: 229<br />species: Gentoo penguin","body_mass_g: 4700<br />flipper_length_mm: 220<br />species: Gentoo penguin","body_mass_g: 5550<br />flipper_length_mm: 223<br />species: Gentoo penguin","body_mass_g: 4750<br />flipper_length_mm: 216<br />species: Gentoo penguin","body_mass_g: 5000<br />flipper_length_mm: 221<br />species: Gentoo penguin","body_mass_g: 5100<br />flipper_length_mm: 221<br />species: Gentoo penguin","body_mass_g: 5200<br />flipper_length_mm: 217<br />species: Gentoo penguin","body_mass_g: 4700<br />flipper_length_mm: 216<br />species: Gentoo penguin","body_mass_g: 5800<br />flipper_length_mm: 230<br />species: Gentoo penguin","body_mass_g: 4600<br />flipper_length_mm: 209<br />species: Gentoo penguin","body_mass_g: 6000<br />flipper_length_mm: 220<br />species: Gentoo penguin","body_mass_g: 4750<br />flipper_length_mm: 215<br />species: Gentoo penguin","body_mass_g: 5950<br />flipper_length_mm: 223<br />species: Gentoo penguin","body_mass_g: 4625<br />flipper_length_mm: 212<br />species: Gentoo penguin","body_mass_g: 5450<br />flipper_length_mm: 221<br />species: Gentoo penguin","body_mass_g: 4725<br />flipper_length_mm: 212<br />species: Gentoo penguin","body_mass_g: 5350<br />flipper_length_mm: 224<br />species: Gentoo penguin","body_mass_g: 4750<br />flipper_length_mm: 212<br />species: Gentoo penguin","body_mass_g: 5600<br />flipper_length_mm: 228<br />species: Gentoo penguin","body_mass_g: 4600<br />flipper_length_mm: 218<br />species: Gentoo penguin","body_mass_g: 5300<br />flipper_length_mm: 218<br />species: Gentoo penguin","body_mass_g: 4875<br />flipper_length_mm: 212<br />species: Gentoo penguin","body_mass_g: 5550<br />flipper_length_mm: 230<br />species: Gentoo penguin","body_mass_g: 4950<br />flipper_length_mm: 218<br />species: Gentoo penguin","body_mass_g: 5400<br />flipper_length_mm: 228<br />species: Gentoo penguin","body_mass_g: 4750<br />flipper_length_mm: 212<br />species: Gentoo penguin","body_mass_g: 5650<br />flipper_length_mm: 224<br />species: Gentoo penguin","body_mass_g: 4850<br />flipper_length_mm: 214<br />species: Gentoo penguin","body_mass_g: 5200<br />flipper_length_mm: 226<br />species: Gentoo penguin","body_mass_g: 4925<br />flipper_length_mm: 216<br />species: Gentoo penguin","body_mass_g: 4875<br />flipper_length_mm: 222<br />species: Gentoo penguin","body_mass_g: 4625<br />flipper_length_mm: 203<br />species: Gentoo penguin","body_mass_g: 5250<br />flipper_length_mm: 225<br />species: Gentoo penguin","body_mass_g: 4850<br />flipper_length_mm: 219<br />species: Gentoo penguin","body_mass_g: 5600<br />flipper_length_mm: 228<br />species: Gentoo penguin","body_mass_g: 4975<br />flipper_length_mm: 215<br />species: Gentoo penguin","body_mass_g: 5500<br />flipper_length_mm: 228<br />species: Gentoo penguin","body_mass_g: 4725<br />flipper_length_mm: 216<br />species: Gentoo penguin","body_mass_g: 5500<br />flipper_length_mm: 215<br />species: Gentoo penguin","body_mass_g: 4700<br />flipper_length_mm: 210<br />species: Gentoo penguin","body_mass_g: 5500<br />flipper_length_mm: 219<br />species: Gentoo penguin","body_mass_g: 4575<br />flipper_length_mm: 208<br />species: Gentoo penguin","body_mass_g: 5500<br />flipper_length_mm: 209<br />species: Gentoo penguin","body_mass_g: 5000<br />flipper_length_mm: 216<br />species: Gentoo penguin","body_mass_g: 5950<br />flipper_length_mm: 229<br />species: Gentoo penguin","body_mass_g: 4650<br />flipper_length_mm: 213<br />species: Gentoo penguin","body_mass_g: 5500<br />flipper_length_mm: 230<br />species: Gentoo penguin","body_mass_g: 4375<br />flipper_length_mm: 217<br />species: Gentoo penguin","body_mass_g: 5850<br />flipper_length_mm: 230<br />species: Gentoo penguin","body_mass_g: 4875<br />flipper_length_mm: 217<br />species: Gentoo penguin","body_mass_g: 6000<br />flipper_length_mm: 222<br />species: Gentoo penguin","body_mass_g: 4925<br />flipper_length_mm: 214<br />species: Gentoo penguin","body_mass_g: 4850<br />flipper_length_mm: 215<br />species: Gentoo penguin","body_mass_g: 5750<br />flipper_length_mm: 222<br />species: Gentoo penguin","body_mass_g: 5200<br />flipper_length_mm: 212<br />species: Gentoo penguin","body_mass_g: 5400<br />flipper_length_mm: 213<br />species: Gentoo penguin"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(178,223,138,1)","opacity":1,"size":5.6692913385826778,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(178,223,138,1)"}},"hoveron":"points","name":"Gentoo penguin","legendgroup":"Gentoo penguin","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[2850,2874.3670886075947,2898.7341772151899,2923.1012658227846,2947.4683544303798,2971.8354430379745,2996.2025316455697,3020.5696202531644,3044.9367088607596,3069.3037974683543,3093.6708860759495,3118.0379746835442,3142.4050632911394,3166.7721518987341,3191.1392405063289,3215.506329113924,3239.8734177215192,3264.2405063291139,3288.6075949367087,3312.9746835443038,3337.3417721518986,3361.7088607594937,3386.0759493670885,3410.4430379746836,3434.8101265822784,3459.1772151898736,3483.5443037974683,3507.9113924050635,3532.2784810126582,3556.6455696202529,3581.0126582278481,3605.3797468354433,3629.746835443038,3654.1139240506327,3678.4810126582279,3702.8481012658231,3727.2151898734178,3751.5822784810125,3775.9493670886077,3800.3164556962024,3824.6835443037976,3849.0506329113923,3873.4177215189875,3897.7848101265822,3922.1518987341769,3946.5189873417721,3970.8860759493673,3995.253164556962,4019.6202531645567,4043.9873417721519,4068.3544303797471,4092.7215189873418,4117.0886075949365,4141.4556962025317,4165.8227848101269,4190.1898734177212,4214.5569620253164,4238.9240506329115,4263.2911392405058,4287.658227848101,4312.0253164556962,4336.3924050632913,4360.7594936708865,4385.1265822784808,4409.493670886076,4433.8607594936711,4458.2278481012654,4482.5949367088606,4506.9620253164558,4531.3291139240509,4555.6962025316461,4580.0632911392404,4604.4303797468356,4628.7974683544307,4653.164556962025,4677.5316455696202,4701.8987341772154,4726.2658227848096,4750.6329113924048,4775],"y":[184.27388365194992,184.4365794622164,184.59927527248286,184.76197108274931,184.92466689301577,185.08736270328222,185.25005851354871,185.41275432381516,185.57545013408162,185.73814594434808,185.90084175461456,186.06353756488102,186.22623337514747,186.38892918541393,186.55162499568041,186.71432080594687,186.87701661621333,187.03971242647978,187.20240823674624,187.36510404701272,187.52779985727918,187.69049566754563,187.85319147781209,188.01588728807857,188.17858309834503,188.34127890861149,188.50397471887794,188.66667052914443,188.82936633941088,188.99206214967734,189.15475795994379,189.31745377021025,189.48014958047673,189.64284539074319,189.80554120100965,189.9682370112761,190.13093282154259,190.29362863180904,190.4563244420755,190.61902025234195,190.78171606260844,190.94441187287489,191.10710768314135,191.26980349340781,191.43249930367426,191.59519511394075,191.7578909242072,191.92058673447366,192.08328254474011,192.24597835500657,192.40867416527306,192.57136997553951,192.73406578580597,192.89676159607242,193.05945740633891,193.22215321660536,193.38484902687182,193.54754483713828,193.71024064740473,193.87293645767122,194.03563226793767,194.19832807820413,194.36102388847061,194.52371969873707,194.68641550900352,194.84911131926998,195.01180712953644,195.17450293980289,195.33719875006938,195.49989456033583,195.66259037060229,195.82528618086877,195.98798199113523,196.15067780140168,196.31337361166814,196.4760694219346,196.63876523220108,196.80146104246754,196.96415685273399,197.12685266300045],"text":["body_mass_g: 2850.000<br />flipper_length_mm: 184.2739<br />species: Adelie Penguin","body_mass_g: 2874.367<br />flipper_length_mm: 184.4366<br />species: Adelie Penguin","body_mass_g: 2898.734<br />flipper_length_mm: 184.5993<br />species: Adelie Penguin","body_mass_g: 2923.101<br />flipper_length_mm: 184.7620<br />species: Adelie Penguin","body_mass_g: 2947.468<br />flipper_length_mm: 184.9247<br />species: Adelie Penguin","body_mass_g: 2971.835<br />flipper_length_mm: 185.0874<br />species: Adelie Penguin","body_mass_g: 2996.203<br />flipper_length_mm: 185.2501<br />species: Adelie Penguin","body_mass_g: 3020.570<br />flipper_length_mm: 185.4128<br />species: Adelie Penguin","body_mass_g: 3044.937<br />flipper_length_mm: 185.5755<br />species: Adelie Penguin","body_mass_g: 3069.304<br />flipper_length_mm: 185.7381<br />species: Adelie Penguin","body_mass_g: 3093.671<br />flipper_length_mm: 185.9008<br />species: Adelie Penguin","body_mass_g: 3118.038<br />flipper_length_mm: 186.0635<br />species: Adelie Penguin","body_mass_g: 3142.405<br />flipper_length_mm: 186.2262<br />species: Adelie Penguin","body_mass_g: 3166.772<br />flipper_length_mm: 186.3889<br />species: Adelie Penguin","body_mass_g: 3191.139<br />flipper_length_mm: 186.5516<br />species: Adelie Penguin","body_mass_g: 3215.506<br />flipper_length_mm: 186.7143<br />species: Adelie Penguin","body_mass_g: 3239.873<br />flipper_length_mm: 186.8770<br />species: Adelie Penguin","body_mass_g: 3264.241<br />flipper_length_mm: 187.0397<br />species: Adelie Penguin","body_mass_g: 3288.608<br />flipper_length_mm: 187.2024<br />species: Adelie Penguin","body_mass_g: 3312.975<br />flipper_length_mm: 187.3651<br />species: Adelie Penguin","body_mass_g: 3337.342<br />flipper_length_mm: 187.5278<br />species: Adelie Penguin","body_mass_g: 3361.709<br />flipper_length_mm: 187.6905<br />species: Adelie Penguin","body_mass_g: 3386.076<br />flipper_length_mm: 187.8532<br />species: Adelie Penguin","body_mass_g: 3410.443<br />flipper_length_mm: 188.0159<br />species: Adelie Penguin","body_mass_g: 3434.810<br />flipper_length_mm: 188.1786<br />species: Adelie Penguin","body_mass_g: 3459.177<br />flipper_length_mm: 188.3413<br />species: Adelie Penguin","body_mass_g: 3483.544<br />flipper_length_mm: 188.5040<br />species: Adelie Penguin","body_mass_g: 3507.911<br />flipper_length_mm: 188.6667<br />species: Adelie Penguin","body_mass_g: 3532.278<br />flipper_length_mm: 188.8294<br />species: Adelie Penguin","body_mass_g: 3556.646<br />flipper_length_mm: 188.9921<br />species: Adelie Penguin","body_mass_g: 3581.013<br />flipper_length_mm: 189.1548<br />species: Adelie Penguin","body_mass_g: 3605.380<br />flipper_length_mm: 189.3175<br />species: Adelie Penguin","body_mass_g: 3629.747<br />flipper_length_mm: 189.4801<br />species: Adelie Penguin","body_mass_g: 3654.114<br />flipper_length_mm: 189.6428<br />species: Adelie Penguin","body_mass_g: 3678.481<br />flipper_length_mm: 189.8055<br />species: Adelie Penguin","body_mass_g: 3702.848<br />flipper_length_mm: 189.9682<br />species: Adelie Penguin","body_mass_g: 3727.215<br />flipper_length_mm: 190.1309<br />species: Adelie Penguin","body_mass_g: 3751.582<br />flipper_length_mm: 190.2936<br />species: Adelie Penguin","body_mass_g: 3775.949<br />flipper_length_mm: 190.4563<br />species: Adelie Penguin","body_mass_g: 3800.316<br />flipper_length_mm: 190.6190<br />species: Adelie Penguin","body_mass_g: 3824.684<br />flipper_length_mm: 190.7817<br />species: Adelie Penguin","body_mass_g: 3849.051<br />flipper_length_mm: 190.9444<br />species: Adelie Penguin","body_mass_g: 3873.418<br />flipper_length_mm: 191.1071<br />species: Adelie Penguin","body_mass_g: 3897.785<br />flipper_length_mm: 191.2698<br />species: Adelie Penguin","body_mass_g: 3922.152<br />flipper_length_mm: 191.4325<br />species: Adelie Penguin","body_mass_g: 3946.519<br />flipper_length_mm: 191.5952<br />species: Adelie Penguin","body_mass_g: 3970.886<br />flipper_length_mm: 191.7579<br />species: Adelie Penguin","body_mass_g: 3995.253<br />flipper_length_mm: 191.9206<br />species: Adelie Penguin","body_mass_g: 4019.620<br />flipper_length_mm: 192.0833<br />species: Adelie Penguin","body_mass_g: 4043.987<br />flipper_length_mm: 192.2460<br />species: Adelie Penguin","body_mass_g: 4068.354<br />flipper_length_mm: 192.4087<br />species: Adelie Penguin","body_mass_g: 4092.722<br />flipper_length_mm: 192.5714<br />species: Adelie Penguin","body_mass_g: 4117.089<br />flipper_length_mm: 192.7341<br />species: Adelie Penguin","body_mass_g: 4141.456<br />flipper_length_mm: 192.8968<br />species: Adelie Penguin","body_mass_g: 4165.823<br />flipper_length_mm: 193.0595<br />species: Adelie Penguin","body_mass_g: 4190.190<br />flipper_length_mm: 193.2222<br />species: Adelie Penguin","body_mass_g: 4214.557<br />flipper_length_mm: 193.3848<br />species: Adelie Penguin","body_mass_g: 4238.924<br />flipper_length_mm: 193.5475<br />species: Adelie Penguin","body_mass_g: 4263.291<br />flipper_length_mm: 193.7102<br />species: Adelie Penguin","body_mass_g: 4287.658<br />flipper_length_mm: 193.8729<br />species: Adelie Penguin","body_mass_g: 4312.025<br />flipper_length_mm: 194.0356<br />species: Adelie Penguin","body_mass_g: 4336.392<br />flipper_length_mm: 194.1983<br />species: Adelie Penguin","body_mass_g: 4360.759<br />flipper_length_mm: 194.3610<br />species: Adelie Penguin","body_mass_g: 4385.127<br />flipper_length_mm: 194.5237<br />species: Adelie Penguin","body_mass_g: 4409.494<br />flipper_length_mm: 194.6864<br />species: Adelie Penguin","body_mass_g: 4433.861<br />flipper_length_mm: 194.8491<br />species: Adelie Penguin","body_mass_g: 4458.228<br />flipper_length_mm: 195.0118<br />species: Adelie Penguin","body_mass_g: 4482.595<br />flipper_length_mm: 195.1745<br />species: Adelie Penguin","body_mass_g: 4506.962<br />flipper_length_mm: 195.3372<br />species: Adelie Penguin","body_mass_g: 4531.329<br />flipper_length_mm: 195.4999<br />species: Adelie Penguin","body_mass_g: 4555.696<br />flipper_length_mm: 195.6626<br />species: Adelie Penguin","body_mass_g: 4580.063<br />flipper_length_mm: 195.8253<br />species: Adelie Penguin","body_mass_g: 4604.430<br />flipper_length_mm: 195.9880<br />species: Adelie Penguin","body_mass_g: 4628.797<br />flipper_length_mm: 196.1507<br />species: Adelie Penguin","body_mass_g: 4653.165<br />flipper_length_mm: 196.3134<br />species: Adelie Penguin","body_mass_g: 4677.532<br />flipper_length_mm: 196.4761<br />species: Adelie Penguin","body_mass_g: 4701.899<br />flipper_length_mm: 196.6388<br />species: Adelie Penguin","body_mass_g: 4726.266<br />flipper_length_mm: 196.8015<br />species: Adelie Penguin","body_mass_g: 4750.633<br />flipper_length_mm: 196.9642<br />species: Adelie Penguin","body_mass_g: 4775.000<br />flipper_length_mm: 197.1269<br />species: Adelie Penguin"],"type":"scatter","mode":"lines","name":"Adelie Penguin","line":{"width":3.7795275590551185,"color":"rgba(166,206,227,1)","dash":"solid"},"hoveron":"points","legendgroup":"Adelie Penguin","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[2700,2726.5822784810125,2753.1645569620255,2779.746835443038,2806.3291139240505,2832.9113924050635,2859.493670886076,2886.0759493670885,2912.6582278481014,2939.2405063291139,2965.8227848101264,2992.4050632911394,3018.9873417721519,3045.5696202531644,3072.1518987341774,3098.7341772151899,3125.3164556962024,3151.8987341772154,3178.4810126582279,3205.0632911392404,3231.6455696202529,3258.2278481012659,3284.8101265822784,3311.3924050632913,3337.9746835443038,3364.5569620253164,3391.1392405063289,3417.7215189873418,3444.3037974683543,3470.8860759493673,3497.4683544303798,3524.0506329113923,3550.6329113924048,3577.2151898734178,3603.7974683544303,3630.3797468354433,3656.9620253164558,3683.5443037974683,3710.1265822784808,3736.7088607594937,3763.2911392405063,3789.8734177215192,3816.4556962025317,3843.0379746835442,3869.6202531645567,3896.2025316455697,3922.7848101265822,3949.3670886075952,3975.9493670886077,4002.5316455696202,4029.1139240506327,4055.6962025316452,4082.2784810126582,4108.8607594936711,4135.4430379746836,4162.0253164556962,4188.6075949367087,4215.1898734177212,4241.7721518987346,4268.3544303797471,4294.9367088607596,4321.5189873417721,4348.1012658227846,4374.6835443037971,4401.2658227848096,4427.8481012658231,4454.4303797468356,4481.0126582278481,4507.5949367088606,4534.1772151898731,4560.7594936708865,4587.341772151899,4613.9240506329115,4640.506329113924,4667.0886075949365,4693.6708860759491,4720.2531645569616,4746.835443037975,4773.4177215189875,4800],"y":[183.52454744365571,183.84101118076927,184.15747491788281,184.47393865499637,184.79040239210994,185.10686612922348,185.42332986633704,185.73979360345061,186.05625734056417,186.37272107767774,186.68918481479128,187.00564855190484,187.32211228901841,187.63857602613194,187.95503976324551,188.27150350035907,188.58796723747264,188.90443097458621,189.22089471169974,189.53735844881331,189.85382218592687,190.17028592304041,190.48674966015398,190.80321339726754,191.11967713438111,191.43614087149467,191.75260460860821,192.06906834572177,192.38553208283534,192.70199581994888,193.01845955706244,193.33492329417601,193.65138703128957,193.96785076840314,194.28431450551668,194.60077824263024,194.91724197974381,195.23370571685734,195.55016945397091,195.86663319108447,196.18309692819804,196.49956066531161,196.81602440242514,197.13248813953871,197.44895187665227,197.76541561376581,198.08187935087938,198.39834308799294,198.71480682510651,199.03127056222007,199.34773429933361,199.66419803644717,199.98066177356074,200.29712551067428,200.61358924778784,200.93005298490141,201.24651672201497,201.56298045912851,201.8794441962421,202.19590793335564,202.51237167046921,202.82883540758274,203.14529914469631,203.46176288180988,203.77822661892344,204.09469035603701,204.41115409315054,204.72761783026411,205.04408156737767,205.36054530449121,205.67700904160478,205.99347277871834,206.30993651583191,206.62640025294547,206.94286399005901,207.25932772717258,207.57579146428611,207.89225520139968,208.20871893851324,208.52518267562681],"text":["body_mass_g: 2700.000<br />flipper_length_mm: 183.5245<br />species: Chinstrap penguin","body_mass_g: 2726.582<br />flipper_length_mm: 183.8410<br />species: Chinstrap penguin","body_mass_g: 2753.165<br />flipper_length_mm: 184.1575<br />species: Chinstrap penguin","body_mass_g: 2779.747<br />flipper_length_mm: 184.4739<br />species: Chinstrap penguin","body_mass_g: 2806.329<br />flipper_length_mm: 184.7904<br />species: Chinstrap penguin","body_mass_g: 2832.911<br />flipper_length_mm: 185.1069<br />species: Chinstrap penguin","body_mass_g: 2859.494<br />flipper_length_mm: 185.4233<br />species: Chinstrap penguin","body_mass_g: 2886.076<br />flipper_length_mm: 185.7398<br />species: Chinstrap penguin","body_mass_g: 2912.658<br />flipper_length_mm: 186.0563<br />species: Chinstrap penguin","body_mass_g: 2939.241<br />flipper_length_mm: 186.3727<br />species: Chinstrap penguin","body_mass_g: 2965.823<br />flipper_length_mm: 186.6892<br />species: Chinstrap penguin","body_mass_g: 2992.405<br />flipper_length_mm: 187.0056<br />species: Chinstrap penguin","body_mass_g: 3018.987<br />flipper_length_mm: 187.3221<br />species: Chinstrap penguin","body_mass_g: 3045.570<br />flipper_length_mm: 187.6386<br />species: Chinstrap penguin","body_mass_g: 3072.152<br />flipper_length_mm: 187.9550<br />species: Chinstrap penguin","body_mass_g: 3098.734<br />flipper_length_mm: 188.2715<br />species: Chinstrap penguin","body_mass_g: 3125.316<br />flipper_length_mm: 188.5880<br />species: Chinstrap penguin","body_mass_g: 3151.899<br />flipper_length_mm: 188.9044<br />species: Chinstrap penguin","body_mass_g: 3178.481<br />flipper_length_mm: 189.2209<br />species: Chinstrap penguin","body_mass_g: 3205.063<br />flipper_length_mm: 189.5374<br />species: Chinstrap penguin","body_mass_g: 3231.646<br />flipper_length_mm: 189.8538<br />species: Chinstrap penguin","body_mass_g: 3258.228<br />flipper_length_mm: 190.1703<br />species: Chinstrap penguin","body_mass_g: 3284.810<br />flipper_length_mm: 190.4867<br />species: Chinstrap penguin","body_mass_g: 3311.392<br />flipper_length_mm: 190.8032<br />species: Chinstrap penguin","body_mass_g: 3337.975<br />flipper_length_mm: 191.1197<br />species: Chinstrap penguin","body_mass_g: 3364.557<br />flipper_length_mm: 191.4361<br />species: Chinstrap penguin","body_mass_g: 3391.139<br />flipper_length_mm: 191.7526<br />species: Chinstrap penguin","body_mass_g: 3417.722<br />flipper_length_mm: 192.0691<br />species: Chinstrap penguin","body_mass_g: 3444.304<br />flipper_length_mm: 192.3855<br />species: Chinstrap penguin","body_mass_g: 3470.886<br />flipper_length_mm: 192.7020<br />species: Chinstrap penguin","body_mass_g: 3497.468<br />flipper_length_mm: 193.0185<br />species: Chinstrap penguin","body_mass_g: 3524.051<br />flipper_length_mm: 193.3349<br />species: Chinstrap penguin","body_mass_g: 3550.633<br />flipper_length_mm: 193.6514<br />species: Chinstrap penguin","body_mass_g: 3577.215<br />flipper_length_mm: 193.9679<br />species: Chinstrap penguin","body_mass_g: 3603.797<br />flipper_length_mm: 194.2843<br />species: Chinstrap penguin","body_mass_g: 3630.380<br />flipper_length_mm: 194.6008<br />species: Chinstrap penguin","body_mass_g: 3656.962<br />flipper_length_mm: 194.9172<br />species: Chinstrap penguin","body_mass_g: 3683.544<br />flipper_length_mm: 195.2337<br />species: Chinstrap penguin","body_mass_g: 3710.127<br />flipper_length_mm: 195.5502<br />species: Chinstrap penguin","body_mass_g: 3736.709<br />flipper_length_mm: 195.8666<br />species: Chinstrap penguin","body_mass_g: 3763.291<br />flipper_length_mm: 196.1831<br />species: Chinstrap penguin","body_mass_g: 3789.873<br />flipper_length_mm: 196.4996<br />species: Chinstrap penguin","body_mass_g: 3816.456<br />flipper_length_mm: 196.8160<br />species: Chinstrap penguin","body_mass_g: 3843.038<br />flipper_length_mm: 197.1325<br />species: Chinstrap penguin","body_mass_g: 3869.620<br />flipper_length_mm: 197.4490<br />species: Chinstrap penguin","body_mass_g: 3896.203<br />flipper_length_mm: 197.7654<br />species: Chinstrap penguin","body_mass_g: 3922.785<br />flipper_length_mm: 198.0819<br />species: Chinstrap penguin","body_mass_g: 3949.367<br />flipper_length_mm: 198.3983<br />species: Chinstrap penguin","body_mass_g: 3975.949<br />flipper_length_mm: 198.7148<br />species: Chinstrap penguin","body_mass_g: 4002.532<br />flipper_length_mm: 199.0313<br />species: Chinstrap penguin","body_mass_g: 4029.114<br />flipper_length_mm: 199.3477<br />species: Chinstrap penguin","body_mass_g: 4055.696<br />flipper_length_mm: 199.6642<br />species: Chinstrap penguin","body_mass_g: 4082.278<br />flipper_length_mm: 199.9807<br />species: Chinstrap penguin","body_mass_g: 4108.861<br />flipper_length_mm: 200.2971<br />species: Chinstrap penguin","body_mass_g: 4135.443<br />flipper_length_mm: 200.6136<br />species: Chinstrap penguin","body_mass_g: 4162.025<br />flipper_length_mm: 200.9301<br />species: Chinstrap penguin","body_mass_g: 4188.608<br />flipper_length_mm: 201.2465<br />species: Chinstrap penguin","body_mass_g: 4215.190<br />flipper_length_mm: 201.5630<br />species: Chinstrap penguin","body_mass_g: 4241.772<br />flipper_length_mm: 201.8794<br />species: Chinstrap penguin","body_mass_g: 4268.354<br />flipper_length_mm: 202.1959<br />species: Chinstrap penguin","body_mass_g: 4294.937<br />flipper_length_mm: 202.5124<br />species: Chinstrap penguin","body_mass_g: 4321.519<br />flipper_length_mm: 202.8288<br />species: Chinstrap penguin","body_mass_g: 4348.101<br />flipper_length_mm: 203.1453<br />species: Chinstrap penguin","body_mass_g: 4374.684<br />flipper_length_mm: 203.4618<br />species: Chinstrap penguin","body_mass_g: 4401.266<br />flipper_length_mm: 203.7782<br />species: Chinstrap penguin","body_mass_g: 4427.848<br />flipper_length_mm: 204.0947<br />species: Chinstrap penguin","body_mass_g: 4454.430<br />flipper_length_mm: 204.4112<br />species: Chinstrap penguin","body_mass_g: 4481.013<br />flipper_length_mm: 204.7276<br />species: Chinstrap penguin","body_mass_g: 4507.595<br />flipper_length_mm: 205.0441<br />species: Chinstrap penguin","body_mass_g: 4534.177<br />flipper_length_mm: 205.3605<br />species: Chinstrap penguin","body_mass_g: 4560.759<br />flipper_length_mm: 205.6770<br />species: Chinstrap penguin","body_mass_g: 4587.342<br />flipper_length_mm: 205.9935<br />species: Chinstrap penguin","body_mass_g: 4613.924<br />flipper_length_mm: 206.3099<br />species: Chinstrap penguin","body_mass_g: 4640.506<br />flipper_length_mm: 206.6264<br />species: Chinstrap penguin","body_mass_g: 4667.089<br />flipper_length_mm: 206.9429<br />species: Chinstrap penguin","body_mass_g: 4693.671<br />flipper_length_mm: 207.2593<br />species: Chinstrap penguin","body_mass_g: 4720.253<br />flipper_length_mm: 207.5758<br />species: Chinstrap penguin","body_mass_g: 4746.835<br />flipper_length_mm: 207.8923<br />species: Chinstrap penguin","body_mass_g: 4773.418<br />flipper_length_mm: 208.2087<br />species: Chinstrap penguin","body_mass_g: 4800.000<br />flipper_length_mm: 208.5252<br />species: Chinstrap penguin"],"type":"scatter","mode":"lines","name":"Chinstrap penguin","line":{"width":3.7795275590551185,"color":"rgba(31,120,180,1)","dash":"solid"},"hoveron":"points","legendgroup":"Chinstrap penguin","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[3950,3979.746835443038,4009.493670886076,4039.2405063291139,4068.9873417721519,4098.7341772151894,4128.4810126582279,4158.2278481012654,4187.9746835443038,4217.7215189873414,4247.4683544303798,4277.2151898734173,4306.9620253164558,4336.7088607594933,4366.4556962025317,4396.2025316455693,4425.9493670886077,4455.6962025316452,4485.4430379746836,4515.1898734177212,4544.9367088607596,4574.6835443037971,4604.4303797468356,4634.1772151898731,4663.9240506329115,4693.6708860759491,4723.4177215189875,4753.164556962025,4782.9113924050635,4812.658227848101,4842.4050632911394,4872.1518987341769,4901.8987341772154,4931.6455696202529,4961.3924050632913,4991.1392405063289,5020.8860759493673,5050.6329113924048,5080.3797468354433,5110.1265822784808,5139.8734177215192,5169.6202531645567,5199.3670886075952,5229.1139240506327,5258.8607594936711,5288.6075949367087,5318.3544303797471,5348.1012658227846,5377.8481012658231,5407.5949367088606,5437.3417721518981,5467.0886075949365,5496.835443037975,5526.5822784810125,5556.32911392405,5586.0759493670885,5615.8227848101269,5645.5696202531644,5675.316455696202,5705.0632911392404,5734.8101265822788,5764.5569620253164,5794.3037974683539,5824.0506329113923,5853.7974683544307,5883.5443037974683,5913.2911392405058,5943.0379746835442,5972.7848101265827,6002.5316455696202,6032.2784810126577,6062.0253164556962,6091.7721518987346,6121.5189873417721,6151.2658227848096,6181.0126582278481,6210.7594936708865,6240.506329113924,6270.2531645569616,6300],"y":[207.00877731808291,207.27766302079351,207.54654872350412,207.81543442621472,208.08432012892533,208.35320583163593,208.62209153434651,208.89097723705711,209.15986293976772,209.42874864247833,209.69763434518893,209.96652004789954,210.23540575061014,210.50429145332075,210.77317715603135,211.04206285874196,211.31094856145256,211.57983426416314,211.84871996687377,212.11760566958435,212.38649137229498,212.65537707500556,212.92426277771617,213.19314848042677,213.46203418313738,213.73091988584798,213.99980558855859,214.26869129126919,214.5375769939798,214.8064626966904,215.07534839940101,215.34423410211161,215.61311980482219,215.8820055075328,216.1508912102434,216.41977691295401,216.68866261566461,216.95754831837522,217.22643402108582,217.49531972379643,217.76420542650703,218.03309112921764,218.30197683192824,218.57086253463882,218.83974823734945,219.10863394006003,219.37751964277066,219.64640534548124,219.91529104819185,220.18417675090245,220.45306245361306,220.72194815632366,220.99083385903427,221.25971956174487,221.52860526445545,221.79749096716608,222.06637666987666,222.33526237258727,222.60414807529787,222.87303377800848,223.14191948071908,223.41080518342969,223.67969088614029,223.9485765888509,224.2174622915615,224.48634799427211,224.75523369698271,225.02411939969329,225.29300510240392,225.5618908051145,225.83077650782511,226.09966221053571,226.36854791324632,226.63743361595692,226.90631931866753,227.17520502137813,227.44409072408874,227.71297642679934,227.98186212950992,228.25074783222055],"text":["body_mass_g: 3950.000<br />flipper_length_mm: 207.0088<br />species: Gentoo penguin","body_mass_g: 3979.747<br />flipper_length_mm: 207.2777<br />species: Gentoo penguin","body_mass_g: 4009.494<br />flipper_length_mm: 207.5465<br />species: Gentoo penguin","body_mass_g: 4039.241<br />flipper_length_mm: 207.8154<br />species: Gentoo penguin","body_mass_g: 4068.987<br />flipper_length_mm: 208.0843<br />species: Gentoo penguin","body_mass_g: 4098.734<br />flipper_length_mm: 208.3532<br />species: Gentoo penguin","body_mass_g: 4128.481<br />flipper_length_mm: 208.6221<br />species: Gentoo penguin","body_mass_g: 4158.228<br />flipper_length_mm: 208.8910<br />species: Gentoo penguin","body_mass_g: 4187.975<br />flipper_length_mm: 209.1599<br />species: Gentoo penguin","body_mass_g: 4217.722<br />flipper_length_mm: 209.4287<br />species: Gentoo penguin","body_mass_g: 4247.468<br />flipper_length_mm: 209.6976<br />species: Gentoo penguin","body_mass_g: 4277.215<br />flipper_length_mm: 209.9665<br />species: Gentoo penguin","body_mass_g: 4306.962<br />flipper_length_mm: 210.2354<br />species: Gentoo penguin","body_mass_g: 4336.709<br />flipper_length_mm: 210.5043<br />species: Gentoo penguin","body_mass_g: 4366.456<br />flipper_length_mm: 210.7732<br />species: Gentoo penguin","body_mass_g: 4396.203<br />flipper_length_mm: 211.0421<br />species: Gentoo penguin","body_mass_g: 4425.949<br />flipper_length_mm: 211.3109<br />species: Gentoo penguin","body_mass_g: 4455.696<br />flipper_length_mm: 211.5798<br />species: Gentoo penguin","body_mass_g: 4485.443<br />flipper_length_mm: 211.8487<br />species: Gentoo penguin","body_mass_g: 4515.190<br />flipper_length_mm: 212.1176<br />species: Gentoo penguin","body_mass_g: 4544.937<br />flipper_length_mm: 212.3865<br />species: Gentoo penguin","body_mass_g: 4574.684<br />flipper_length_mm: 212.6554<br />species: Gentoo penguin","body_mass_g: 4604.430<br />flipper_length_mm: 212.9243<br />species: Gentoo penguin","body_mass_g: 4634.177<br />flipper_length_mm: 213.1931<br />species: Gentoo penguin","body_mass_g: 4663.924<br />flipper_length_mm: 213.4620<br />species: Gentoo penguin","body_mass_g: 4693.671<br />flipper_length_mm: 213.7309<br />species: Gentoo penguin","body_mass_g: 4723.418<br />flipper_length_mm: 213.9998<br />species: Gentoo penguin","body_mass_g: 4753.165<br />flipper_length_mm: 214.2687<br />species: Gentoo penguin","body_mass_g: 4782.911<br />flipper_length_mm: 214.5376<br />species: Gentoo penguin","body_mass_g: 4812.658<br />flipper_length_mm: 214.8065<br />species: Gentoo penguin","body_mass_g: 4842.405<br />flipper_length_mm: 215.0753<br />species: Gentoo penguin","body_mass_g: 4872.152<br />flipper_length_mm: 215.3442<br />species: Gentoo penguin","body_mass_g: 4901.899<br />flipper_length_mm: 215.6131<br />species: Gentoo penguin","body_mass_g: 4931.646<br />flipper_length_mm: 215.8820<br />species: Gentoo penguin","body_mass_g: 4961.392<br />flipper_length_mm: 216.1509<br />species: Gentoo penguin","body_mass_g: 4991.139<br />flipper_length_mm: 216.4198<br />species: Gentoo penguin","body_mass_g: 5020.886<br />flipper_length_mm: 216.6887<br />species: Gentoo penguin","body_mass_g: 5050.633<br />flipper_length_mm: 216.9575<br />species: Gentoo penguin","body_mass_g: 5080.380<br />flipper_length_mm: 217.2264<br />species: Gentoo penguin","body_mass_g: 5110.127<br />flipper_length_mm: 217.4953<br />species: Gentoo penguin","body_mass_g: 5139.873<br />flipper_length_mm: 217.7642<br />species: Gentoo penguin","body_mass_g: 5169.620<br />flipper_length_mm: 218.0331<br />species: Gentoo penguin","body_mass_g: 5199.367<br />flipper_length_mm: 218.3020<br />species: Gentoo penguin","body_mass_g: 5229.114<br />flipper_length_mm: 218.5709<br />species: Gentoo penguin","body_mass_g: 5258.861<br />flipper_length_mm: 218.8397<br />species: Gentoo penguin","body_mass_g: 5288.608<br />flipper_length_mm: 219.1086<br />species: Gentoo penguin","body_mass_g: 5318.354<br />flipper_length_mm: 219.3775<br />species: Gentoo penguin","body_mass_g: 5348.101<br />flipper_length_mm: 219.6464<br />species: Gentoo penguin","body_mass_g: 5377.848<br />flipper_length_mm: 219.9153<br />species: Gentoo penguin","body_mass_g: 5407.595<br />flipper_length_mm: 220.1842<br />species: Gentoo penguin","body_mass_g: 5437.342<br />flipper_length_mm: 220.4531<br />species: Gentoo penguin","body_mass_g: 5467.089<br />flipper_length_mm: 220.7219<br />species: Gentoo penguin","body_mass_g: 5496.835<br />flipper_length_mm: 220.9908<br />species: Gentoo penguin","body_mass_g: 5526.582<br />flipper_length_mm: 221.2597<br />species: Gentoo penguin","body_mass_g: 5556.329<br />flipper_length_mm: 221.5286<br />species: Gentoo penguin","body_mass_g: 5586.076<br />flipper_length_mm: 221.7975<br />species: Gentoo penguin","body_mass_g: 5615.823<br />flipper_length_mm: 222.0664<br />species: Gentoo penguin","body_mass_g: 5645.570<br />flipper_length_mm: 222.3353<br />species: Gentoo penguin","body_mass_g: 5675.316<br />flipper_length_mm: 222.6041<br />species: Gentoo penguin","body_mass_g: 5705.063<br />flipper_length_mm: 222.8730<br />species: Gentoo penguin","body_mass_g: 5734.810<br />flipper_length_mm: 223.1419<br />species: Gentoo penguin","body_mass_g: 5764.557<br />flipper_length_mm: 223.4108<br />species: Gentoo penguin","body_mass_g: 5794.304<br />flipper_length_mm: 223.6797<br />species: Gentoo penguin","body_mass_g: 5824.051<br />flipper_length_mm: 223.9486<br />species: Gentoo penguin","body_mass_g: 5853.797<br />flipper_length_mm: 224.2175<br />species: Gentoo penguin","body_mass_g: 5883.544<br />flipper_length_mm: 224.4863<br />species: Gentoo penguin","body_mass_g: 5913.291<br />flipper_length_mm: 224.7552<br />species: Gentoo penguin","body_mass_g: 5943.038<br />flipper_length_mm: 225.0241<br />species: Gentoo penguin","body_mass_g: 5972.785<br />flipper_length_mm: 225.2930<br />species: Gentoo penguin","body_mass_g: 6002.532<br />flipper_length_mm: 225.5619<br />species: Gentoo penguin","body_mass_g: 6032.278<br />flipper_length_mm: 225.8308<br />species: Gentoo penguin","body_mass_g: 6062.025<br />flipper_length_mm: 226.0997<br />species: Gentoo penguin","body_mass_g: 6091.772<br />flipper_length_mm: 226.3685<br />species: Gentoo penguin","body_mass_g: 6121.519<br />flipper_length_mm: 226.6374<br />species: Gentoo penguin","body_mass_g: 6151.266<br />flipper_length_mm: 226.9063<br />species: Gentoo penguin","body_mass_g: 6181.013<br />flipper_length_mm: 227.1752<br />species: Gentoo penguin","body_mass_g: 6210.759<br />flipper_length_mm: 227.4441<br />species: Gentoo penguin","body_mass_g: 6240.506<br />flipper_length_mm: 227.7130<br />species: Gentoo penguin","body_mass_g: 6270.253<br />flipper_length_mm: 227.9819<br />species: Gentoo penguin","body_mass_g: 6300.000<br />flipper_length_mm: 228.2507<br />species: Gentoo penguin"],"type":"scatter","mode":"lines","name":"Gentoo penguin","line":{"width":3.7795275590551185,"color":"rgba(178,223,138,1)","dash":"solid"},"hoveron":"points","legendgroup":"Gentoo penguin","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":40.840182648401829,"r":7.3059360730593621,"b":37.260273972602747,"l":43.105022831050235},"plot_bgcolor":"rgba(255,255,255,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"title":{"text":"Island comparision of flipper length and body mass by species","font":{"color":"rgba(0,0,0,1)","family":"","size":17.534246575342465},"x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[2520,6480],"tickmode":"array","ticktext":["3000","4000","5000","6000"],"tickvals":[3000,4000,5000,6000],"categoryorder":"array","categoryarray":["3000","4000","5000","6000"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0,"zeroline":false,"anchor":"y","title":{"text":"Body mass (g)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[169.05000000000001,233.94999999999999],"tickmode":"array","ticktext":["170","180","190","200","210","220","230"],"tickvals":[170,180,190,200,210,220,230],"categoryorder":"array","categoryarray":["170","180","190","200","210","220","230"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0,"zeroline":false,"anchor":"x","title":{"text":"Flipper length (mm)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":"rgba(255,255,255,1)","line":{"color":"rgba(51,51,51,1)","width":0,"linetype":"solid"},"yref":"paper","xref":"paper","layer":"below","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.68949771689498},"title":{"text":"Species","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"81a033841f83":{"x":{},"y":{},"colour":{},"type":"scatter"},"81a0423e1057":{"x":{},"y":{},"colour":{}}},"cur_data":"81a033841f83","visdat":{"81a033841f83":["function (y) ","x"],"81a0423e1057":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>The other is to name the chain of functions and wrap that named object in the <code>ggplotly()</code> function</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>fliplen_bodmass_plot <span class="ot">&lt;-</span>  <span class="fu">ggplot</span>(<span class="at">data =</span> cleandat) <span class="sc">+</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">aes</span>(<span class="at">x =</span> body_mass_g, <span class="at">y =</span> flipper_length_mm, <span class="at">color =</span> species) <span class="sc">+</span>   </span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title=</span><span class="st">"Island comparision of flipper length and body mass by species"</span>,</span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Body mass (g)"</span>,</span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Flipper length (mm)"</span>,</span>
<span id="cb34-7"><a href="#cb34-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">color =</span> <span class="st">"Species"</span>) <span class="sc">+</span> </span>
<span id="cb34-8"><a href="#cb34-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb34-9"><a href="#cb34-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_colour_brewer</span>(<span class="at">type =</span> <span class="st">"qual"</span>, <span class="at">palette =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb34-10"><a href="#cb34-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">se =</span> <span class="cn">FALSE</span>, <span class="at">formula =</span> <span class="st">'y ~ x'</span>)</span>
<span id="cb34-11"><a href="#cb34-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-12"><a href="#cb34-12" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplotly</span>(fliplen_bodmass_plot)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="exporting-plots-for-publication" class="level2" data-number="7.7">
<h2 data-number="7.7" class="anchored" data-anchor-id="exporting-plots-for-publication"><span class="header-section-number">7.7</span> Exporting plots for publication</h2>
<p>One of the easiest way to save and export plots is to use the <code>ggsave()</code> function. Use the <code>?ggsave</code> to obtain more information on how the function works. By default, the latest plot displayed will be saved, but if a previously displayed plot had been saved as an R object, the name of that R object can be specified to save that one instead of the last one. Options available here include <code>dpi=...</code>, <code>width=...</code> and <code>height=...</code> for our figure. This is where we can make the final adjustments depending if the plot is to be used in a powerpoint presentation, or a word document, for example.</p>
<p>Let’s save one figure, and then play with these format options to see how it changes the appearance and quality of the exported image. Often it is by trial and errors that you will find the best format for your specific situation!</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsave</span>(<span class="st">"outputs/penguins_data_exploration.jpg"</span>,</span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>       <span class="at">plot =</span> fliplen_bodmass_plot,</span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>       <span class="at">dpi =</span> <span class="dv">300</span>, <span class="at">height =</span> <span class="dv">5</span>, <span class="at">width =</span> <span class="dv">7</span>, <span class="at">units =</span> <span class="st">"in"</span>) </span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
</section>
<section id="conclusion" class="level1" data-number="8">
<h1 data-number="8"><span class="header-section-number">8</span> Conclusion</h1>
<p>The goal of this workshop was not to go through each possible data summary tool or plot example, but rather to use a simple dataset to demonstrate some of the main tools that can be used for tidying data in R, and demonstrate with a few examples the structure of the ggplot syntax. There are plenty of resources available to expand on the material presented here, and we hope that as a participants you will feel it easier to continue exploring and applying these tools in to tackle your data analysis tasks!</p>
</section>
<section id="your-turn-to-experiment" class="level1" data-number="9">
<h1 data-number="9"><span class="header-section-number">9</span> Your turn to experiment!</h1>
<p>Now you will spend the rest of our time together implementing some of these tools with your own data. But how to get started?!!</p>
<p>Here is a quick guide to get you started based on the steps we have followed with the palmer penguins data, but feel free to go on your own as you see fit!</p>
<ol type="1">
<li>Start a new project and R script.</li>
<li>Load libraries (<code>tidyverse</code> and others as needed)</li>
<li>Read your data in R using the function that correspond to your file type (<code>read_csv</code>(),<code>read_excel</code>())</li>
<li>Take a first look at the data using <code>glimpse()</code>,<code>str()</code>,<code>dim()</code>,<code>nrow()</code>, etc.
<ol type="a">
<li>Note the data structure and data types.</li>
<li>Note the dimension of your dataset, the number of rows and number of columns</li>
</ol></li>
<li>Look at the data summary (<code>summary()</code>) and identify if there are any missing data or anything else that looks unusual for some of the variables.</li>
<li>Use some of the functions that we have used below to tidy your data
<ol type="a">
<li>Do you need to simplify column names?</li>
<li>Can you remove some of the columns to form a smaller dataframe?</li>
<li>Do you need to created a binary variable coding if some variables are usable or not?</li>
<li>Do you need to create some new variables (<code>mutate()</code>)?</li>
<li>Do you need to filter out some of the data (<code>filter()</code>)?</li>
</ol></li>
<li>Now you can do some summaries using the <code>group_by</code> function if you have grouping variables, and the <code>summarise</code> function.</li>
<li>Take time to explore a variety of plot types, even if you wouldn’t necessarily use them all, but just to get more experience with the <code>ggplot2</code> syntax and the breath of available types of plots.</li>
<li>Ask questions! We’re here to help, and if there is something that we have not covered in the workshop material but that you would like to learn how to do, we will be happy to help you out!</li>
</ol>
<p>Enjoy!</p>
</section>
<section id="useful-cheatsheets" class="level1" data-number="10">
<h1 data-number="10"><span class="header-section-number">10</span> Useful cheatsheets</h1>
<p><a href="https://rstudio.github.io/cheatsheets/data-visualization.pdf">ggplot2</a></p>
<p><a href="https://nyu-cdsc.github.io/learningr/assets/data-transformation.pdf">dplyr</a></p>
<p><a href="https://rstudio.github.io/cheatsheets/tidyr.pdf">tidyr</a></p>
<p><a href="https://rstudio.github.io/cheatsheets/lubridate.pdf">lubridate</a></p>
<p><a href="https://rstudio.github.io/cheatsheets/strings.pdf">stringr</a></p>
<p><a href="https://posit.co/resources/cheatsheets/">more cheatsheets!</a></p>
</section>
<section id="additional-resources" class="level1" data-number="11">
<h1 data-number="11"><span class="header-section-number">11</span> Additional resources</h1>
<p><a href="https://tidyr.tidyverse.org/articles/tidy-data.html">More on tidy data</a></p>
<p><a href="https://ggplot2.tidyverse.org/">More on ggplot2</a></p>
<p><a href="https://hadley.github.io/genzplyr/">dplyr for Gen Z</a></p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>